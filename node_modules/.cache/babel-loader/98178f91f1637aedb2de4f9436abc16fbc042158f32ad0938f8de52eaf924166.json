{"ast":null,"code":"import _regeneratorRuntime from \"/Users/shane/Desktop/isc project/frontend/web-pos 3.0/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/shane/Desktop/isc project/frontend/web-pos 3.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ref } from \"vue\";\nimport { useStore } from \"vuex\";\nexport default {\n  props: [\"modalId\", \"modelTitle\"],\n  emits: [\"continue\"],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n    var password = ref(\"\");\n    var modalTitle = props.modelTitle;\n    var store = useStore();\n    var errorMsg = ref(\"\");\n    var handleContinue = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var passwordRequest, validation;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              passwordRequest = {\n                password: password.value\n              };\n              _context.prev = 1;\n              _context.next = 4;\n              return store.dispatch(\"user/checkPassword\", passwordRequest);\n            case 4:\n              validation = _context.sent;\n              if (validation) {\n                errorMsg.value = \"\";\n                emit(\"continue\");\n              } else {\n                password.value = \"\";\n                errorMsg.value = \"Incorrect password\";\n              }\n              _context.next = 12;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              console.error(\"Error while checking password: \", _context.t0);\n              errorMsg.value = \"Error occurred while checking password\";\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n      return function handleContinue() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    return {\n      password: password,\n      modalTitle: modalTitle,\n      errorMsg: errorMsg,\n      handleContinue: handleContinue\n    };\n  }\n};","map":{"version":3,"names":["ref","useStore","props","emits","setup","_ref","emit","password","modalTitle","modelTitle","store","errorMsg","handleContinue","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","passwordRequest","validation","wrap","_callee$","_context","prev","next","value","dispatch","sent","t0","console","error","stop","apply","arguments"],"sources":["/Users/shane/Desktop/isc project/frontend/web-pos 3.0/src/components/CheckPasswordModal.vue"],"sourcesContent":["<template>\n  <!-- Modal -->\n  <div\n    class=\"modal fade\"\n    :id=\"modalId\"\n    tabindex=\"-1\"\n    aria-labelledby=\"ModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <form\n      class=\"modal-dialog modal-dialog-centered\"\n      @submit.prevent=\"handleContinue\"\n    >\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">\n            {{ modalTitle }}\n          </h1>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <h5>Please Enter Your Password to Continue</h5>\n          <input\n            type=\"password\"\n            class=\"border border-secondary rounded-1\"\n            v-model=\"password\"\n            style=\"width: 95%; font-size: 20px\"\n            required\n          />\n          <p class=\"text-danger\">{{ errorMsg }}</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            Cancel\n          </button>\n          <button type=\"submit\" class=\"btn btn-primary\">Continue</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport { useStore } from \"vuex\";\nexport default {\n  props: [\"modalId\", \"modelTitle\"],\n  emits: [\"continue\"],\n  setup(props, { emit }) {\n    const password = ref(\"\");\n    const modalTitle = props.modelTitle;\n    const store = useStore();\n    const errorMsg = ref(\"\");\n\n    const handleContinue = async () => {\n      const passwordRequest = {\n        password: password.value,\n      };\n      try {\n        const validation = await store.dispatch(\n          \"user/checkPassword\",\n          passwordRequest\n        );\n        if (validation) {\n          errorMsg.value = \"\";\n          emit(\"continue\");\n        } else {\n          password.value = \"\";\n          errorMsg.value = \"Incorrect password\";\n        }\n      } catch (error) {\n        console.error(\"Error while checking password: \", error);\n        errorMsg.value = \"Error occurred while checking password\";\n      }\n    };\n\n    return {\n      password,\n      modalTitle,\n      errorMsg,\n      handleContinue,\n    };\n  },\n};\n</script>\n\n<style></style>\n"],"mappings":";;AAoDA,SAASA,GAAE,QAAS,KAAK;AACzB,SAASC,QAAO,QAAS,MAAM;AAC/B,eAAe;EACbC,KAAK,EAAE,CAAC,SAAS,EAAE,YAAY,CAAC;EAChCC,KAAK,EAAE,CAAC,UAAU,CAAC;EACnBC,KAAK,WAAAA,MAACF,KAAK,EAAAG,IAAA,EAAY;IAAA,IAARC,IAAG,GAAAD,IAAA,CAAHC,IAAG;IAChB,IAAMC,QAAO,GAAIP,GAAG,CAAC,EAAE,CAAC;IACxB,IAAMQ,UAAS,GAAIN,KAAK,CAACO,UAAU;IACnC,IAAMC,KAAI,GAAIT,QAAQ,CAAC,CAAC;IACxB,IAAMU,QAAO,GAAIX,GAAG,CAAC,EAAE,CAAC;IAExB,IAAMY,cAAa;MAAA,IAAAC,KAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAI,SAAAC,QAAA;QAAA,IAAAC,eAAA,EAAAC,UAAA;QAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACfN,eAAc,GAAI;gBACtBX,QAAQ,EAAEA,QAAQ,CAACkB;cACrB,CAAC;cAAAH,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAE0Bd,KAAK,CAACgB,QAAQ,CACrC,oBAAoB,EACpBR,eACF,CAAC;YAAA;cAHKC,UAAS,GAAAG,QAAA,CAAAK,IAAA;cAIf,IAAIR,UAAU,EAAE;gBACdR,QAAQ,CAACc,KAAI,GAAI,EAAE;gBACnBnB,IAAI,CAAC,UAAU,CAAC;cAClB,OAAO;gBACLC,QAAQ,CAACkB,KAAI,GAAI,EAAE;gBACnBd,QAAQ,CAACc,KAAI,GAAI,oBAAoB;cACvC;cAAAH,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAM,EAAA,GAAAN,QAAA;cAEAO,OAAO,CAACC,KAAK,CAAC,iCAAiC,EAAAR,QAAA,CAAAM,EAAO,CAAC;cACvDjB,QAAQ,CAACc,KAAI,GAAI,wCAAwC;YAAA;YAAA;cAAA,OAAAH,QAAA,CAAAS,IAAA;UAAA;QAAA,GAAAd,OAAA;MAAA,CAE5D;MAAA,gBApBKL,cAAaA,CAAA;QAAA,OAAAC,KAAA,CAAAmB,KAAA,OAAAC,SAAA;MAAA;IAAA,GAoBlB;IAED,OAAO;MACL1B,QAAQ,EAARA,QAAQ;MACRC,UAAU,EAAVA,UAAU;MACVG,QAAQ,EAARA,QAAQ;MACRC,cAAc,EAAdA;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}