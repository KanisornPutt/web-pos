{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"container m-5 mx-auto\"\n};\nvar _hoisted_2 = {\n  \"class\": \"row justify-content-center\"\n};\nvar _hoisted_3 = {\n  \"class\": \"col-12 col-md-10 col-lg-8 p-5 border border-hide border-tertiary rounded-4\"\n};\nvar _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Create New Store\", -1 /* HOISTED */);\nvar _hoisted_5 = {\n  \"class\": \"mb-3\"\n};\nvar _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  \"for\": \"storeName\",\n  \"class\": \"form-label\"\n}, \"Store Name\", -1 /* HOISTED */);\nvar _hoisted_7 = {\n  \"class\": \"mb-3\"\n};\nvar _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", {\n  \"for\": \"createStoreCode\",\n  \"class\": \"form-label\"\n}, \"Store Code\", -1 /* HOISTED */);\nvar _hoisted_9 = {\n  \"class\": \"mb-3\"\n};\nvar _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", {\n  \"for\": \"createStorePassword\",\n  \"class\": \"form-label\"\n}, \"Store Password\", -1 /* HOISTED */);\nvar _hoisted_11 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  \"class\": \"btn btn-primary my-2\"\n}, \" Create Store \", -1 /* HOISTED */);\nvar _hoisted_12 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nvar _hoisted_13 = /*#__PURE__*/_createElementVNode(\"p\", {\n  \"class\": \"\"\n}, \"Not an Owner?\", -1 /* HOISTED */);\nvar _hoisted_14 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Join an Existing Store\", -1 /* HOISTED */);\nvar _hoisted_15 = {\n  \"class\": \"mb-3\"\n};\nvar _hoisted_16 = /*#__PURE__*/_createElementVNode(\"label\", {\n  \"for\": \"joinStoreCode\",\n  \"class\": \"form-label\"\n}, \"Store Code\", -1 /* HOISTED */);\nvar _hoisted_17 = {\n  \"class\": \"mb-3\"\n};\nvar _hoisted_18 = /*#__PURE__*/_createElementVNode(\"label\", {\n  \"for\": \"joinStorePassword\",\n  \"class\": \"form-label\"\n}, \"Store Password\", -1 /* HOISTED */);\nvar _hoisted_19 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  \"class\": \"btn btn-primary my-2\"\n}, \" Join Store \", -1 /* HOISTED */);\nvar _hoisted_20 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nvar _hoisted_21 = /*#__PURE__*/_createElementVNode(\"p\", {\n  \"class\": \"\"\n}, \"Creating a New Store?\", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", null, [$setup.activeForm === 'createFrom' ? (_openBlock(), _createElementBlock(\"form\", {\n    key: 0,\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers(function () {\n      return $setup.createStore && $setup.createStore.apply($setup, arguments);\n    }, [\"prevent\"]))\n  }, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"class\": \"form-control\",\n    id: \"storeName\",\n    placeholder: \"Name of your store\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $setup.storeName = $event;\n    })\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.storeName]])]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"class\": \"form-control\",\n    id: \"createStoreCode\",\n    placeholder: \"Unique Code for your store, used for invitation\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $setup.createStoreCode = $event;\n    })\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.createStoreCode]])]), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"class\": \"form-control\",\n    id: \"createStorePassword\",\n    placeholder: \"Password of at least 8 characters for invitaion\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return $setup.createStorePassword = $event;\n    })\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.createStorePassword]])]), _hoisted_11, _hoisted_12, _hoisted_13, _createElementVNode(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-primary\",\n    onClick: _cache[3] || (_cache[3] = function ($event) {\n      return $setup.toggleForms('JoinForm');\n    })\n  }, \" Join an Existing Store \")], 32 /* NEED_HYDRATION */)) : _createCommentVNode(\"v-if\", true), $setup.activeForm === 'JoinForm' ? (_openBlock(), _createElementBlock(\"form\", {\n    key: 1,\n    onSubmit: _cache[8] || (_cache[8] = _withModifiers(function () {\n      return $setup.joinStore && $setup.joinStore.apply($setup, arguments);\n    }, [\"prevent\"]))\n  }, [_hoisted_14, _createElementVNode(\"div\", _hoisted_15, [_hoisted_16, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"class\": \"form-control\",\n    id: \"joinStoreCode\",\n    placeholder: \"Store Code given by the store admin\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = function ($event) {\n      return $setup.joinStoreCode = $event;\n    })\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.joinStoreCode]])]), _createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"class\": \"form-control\",\n    id: \"joinStorePassword\",\n    placeholder: \"Store Password given by the store admin\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = function ($event) {\n      return $setup.joinStorePassword = $event;\n    })\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.joinStorePassword]])]), _hoisted_19, _hoisted_20, _hoisted_21, _createElementVNode(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-primary\",\n    onClick: _cache[7] || (_cache[7] = function ($event) {\n      return $setup.toggleForms('createFrom');\n    })\n  }, \" Create a New Store \")], 32 /* NEED_HYDRATION */)) : _createCommentVNode(\"v-if\", true)])])])]);\n}","map":{"version":3,"names":["_createElementVNode","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","$setup","activeForm","key","onSubmit","_cache","_withModifiers","createStore","apply","arguments","_hoisted_4","_hoisted_5","_hoisted_6","id","placeholder","required","$event","storeName","_hoisted_7","_hoisted_8","createStoreCode","_hoisted_9","_hoisted_10","createStorePassword","_hoisted_11","_hoisted_12","_hoisted_13","onClick","toggleForms","_createCommentVNode","joinStore","_hoisted_14","_hoisted_15","_hoisted_16","joinStoreCode","_hoisted_17","_hoisted_18","joinStorePassword","_hoisted_19","_hoisted_20","_hoisted_21"],"sources":["/Users/shane/Desktop/isc project/frontend/web-pos 3.0/src/views/StoreSetupView.vue"],"sourcesContent":["<template>\n  <div class=\"container m-5 mx-auto\">\n    <div class=\"row justify-content-center\">\n      <div\n        class=\"col-12 col-md-10 col-lg-8 p-5 border border-hide border-tertiary rounded-4\"\n      >\n        <div>\n          <form\n            v-if=\"activeForm === 'createFrom'\"\n            @submit.prevent=\"createStore\"\n          >\n            <h2>Create New Store</h2>\n            <div class=\"mb-3\">\n              <label for=\"storeName\" class=\"form-label\">Store Name</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"storeName\"\n                placeholder=\"Name of your store\"\n                required\n                v-model=\"storeName\"\n              />\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"createStoreCode\" class=\"form-label\">Store Code</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"createStoreCode\"\n                placeholder=\"Unique Code for your store, used for invitation\"\n                required\n                v-model=\"createStoreCode\"\n              />\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"createStorePassword\" class=\"form-label\"\n                >Store Password</label\n              >\n              <input\n                type=\"password\"\n                class=\"form-control\"\n                id=\"createStorePassword\"\n                placeholder=\"Password of at least 8 characters for invitaion\"\n                required\n                v-model=\"createStorePassword\"\n              />\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary my-2\">\n              Create Store\n            </button>\n\n            <hr />\n            <p class=\"\">Not an Owner?</p>\n            <button\n              type=\"button\"\n              class=\"btn btn-primary\"\n              @click=\"toggleForms('JoinForm')\"\n            >\n              Join an Existing Store\n            </button>\n          </form>\n\n          <form v-if=\"activeForm === 'JoinForm'\" @submit.prevent=\"joinStore\">\n            <h2>Join an Existing Store</h2>\n            <div class=\"mb-3\">\n              <label for=\"joinStoreCode\" class=\"form-label\">Store Code</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"joinStoreCode\"\n                placeholder=\"Store Code given by the store admin\"\n                required\n                v-model=\"joinStoreCode\"\n              />\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"joinStorePassword\" class=\"form-label\"\n                >Store Password</label\n              >\n              <input\n                type=\"password\"\n                class=\"form-control\"\n                id=\"joinStorePassword\"\n                placeholder=\"Store Password given by the store admin\"\n                required\n                v-model=\"joinStorePassword\"\n              />\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary my-2\">\n              Join Store\n            </button>\n            <hr />\n            <p class=\"\">Creating a New Store?</p>\n            <button\n              type=\"button\"\n              class=\"btn btn-primary\"\n              @click=\"toggleForms('createFrom')\"\n            >\n              Create a New Store\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport store from \"@/store/modules/store\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n\n    const activeForm = ref(\"createFrom\");\n\n    const clearForms = () => {\n      storeName.value = \"\";\n      createStoreCode.value = \"\";\n      createStorePassword.value = \"\";\n      joinStoreCode.value = \"\";\n      joinStorePassword.value = \"\";\n    };\n\n    const toggleForms = (formName) => {\n      clearForms();\n      activeForm.value = formName;\n    };\n\n    const storeName = ref(\"\");\n    const createStoreCode = ref(\"\");\n    const createStorePassword = ref(\"\");\n    const joinStoreCode = ref(\"\");\n    const joinStorePassword = ref(\"\");\n\n    const createStore = async () => {\n      const createStoreRequest = {\n        name: storeName.value,\n        storeCode: createStoreCode.value,\n        password: createStorePassword.value,\n      };\n      const validation = await store.dispatch(\n        \"store/createStore\",\n        createStoreRequest\n      );\n      if (validation) {\n        router.push(\"/dashboard\");\n      } else {\n        alert(\"Store code has already been used\");\n        createStoreCode.value = \"\";\n        createStorePassword.value = \"\";\n      }\n    };\n\n    const joinStore = async () => {\n      const joinStoreRequest = {\n        storeCode: joinStoreCode.value,\n        password: joinStorePassword.value,\n      };\n      const validation = await store.dispatch(\n        \"store/joinStore\",\n        joinStoreRequest\n      );\n      if (validation) {\n        router.push(\"/dashboard\");\n      } else {\n        alert(\"Inccorect Store code or password\");\n        createStoreCode.value = \"\";\n        createStorePassword.value = \"\";\n      }\n    };\n\n    return {\n      activeForm,\n      toggleForms,\n      storeName,\n      createStoreCode,\n      createStorePassword,\n      joinStoreCode,\n      joinStorePassword,\n      createStore,\n      joinStore,\n    };\n  },\n};\n</script>\n\n<style scode>\n@media (max-width: 768px) {\n  .border-hide {\n    border: none !important; /* Hide the border */\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}