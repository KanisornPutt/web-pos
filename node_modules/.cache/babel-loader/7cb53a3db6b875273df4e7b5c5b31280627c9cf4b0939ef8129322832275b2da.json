{"ast":null,"code":"import _regeneratorRuntime from \"/Users/shane/Desktop/isc project/frontend/web-pos 3.0/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/shane/Desktop/isc project/frontend/web-pos 3.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { ref } from \"vue\";\nimport store from \"@/store/modules/store\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  setup: function setup() {\n    var store = useStore();\n    var router = useRouter();\n    var activeForm = ref(\"createFrom\");\n    var clearForms = function clearForms() {\n      storeName.value = \"\";\n      createStoreCode.value = \"\";\n      createStorePassword.value = \"\";\n      joinStoreCode.value = \"\";\n      joinStorePassword.value = \"\";\n    };\n    var toggleForms = function toggleForms(formName) {\n      clearForms();\n      activeForm.value = formName;\n    };\n    var storeName = ref(\"\");\n    var createStoreCode = ref(\"\");\n    var createStorePassword = ref(\"\");\n    var joinStoreCode = ref(\"\");\n    var joinStorePassword = ref(\"\");\n    var createStore = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var createStoreRequest, validation;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              createStoreRequest = {\n                name: storeName.value,\n                storeCode: createStoreCode.value,\n                password: createStorePassword.value\n              };\n              _context.next = 3;\n              return store.dispatch(\"store/createStore\", createStoreRequest);\n            case 3:\n              validation = _context.sent;\n              if (validation) {\n                router.push(\"/dashboard\");\n              } else {\n                alert(\"Store code has already been used\");\n                createStoreCode.value = \"\";\n                createStorePassword.value = \"\";\n              }\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function createStore() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var joinStore = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var joinStoreRequest, validation;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              joinStoreRequest = {\n                storeCode: joinStoreCode.value,\n                password: joinStorePassword.value\n              };\n              _context2.next = 3;\n              return store.dispatch(\"store/joinStore\", joinStoreRequest);\n            case 3:\n              validation = _context2.sent;\n              if (validation) {\n                router.push(\"/dashboard\");\n              } else {\n                alert(\"Inccorect Store code or password\");\n                createStoreCode.value = \"\";\n                createStorePassword.value = \"\";\n              }\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n      return function joinStore() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    return {\n      activeForm: activeForm,\n      toggleForms: toggleForms,\n      storeName: storeName,\n      createStoreCode: createStoreCode,\n      createStorePassword: createStorePassword,\n      joinStoreCode: joinStoreCode,\n      joinStorePassword: joinStorePassword,\n      createStore: createStore,\n      joinStore: joinStore\n    };\n  }\n};","map":{"version":3,"names":["ref","store","useStore","useRouter","setup","router","activeForm","clearForms","storeName","value","createStoreCode","createStorePassword","joinStoreCode","joinStorePassword","toggleForms","formName","createStore","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","createStoreRequest","validation","wrap","_callee$","_context","prev","next","name","storeCode","password","dispatch","sent","push","alert","stop","apply","arguments","joinStore","_ref2","_callee2","joinStoreRequest","_callee2$","_context2"],"sources":["/Users/shane/Desktop/isc project/frontend/web-pos 3.0/src/views/StoreSetupView.vue"],"sourcesContent":["<template>\n  <div class=\"container m-5 mx-auto\">\n    <div class=\"row justify-content-center\">\n      <div\n        class=\"col-12 col-md-10 col-lg-8 p-5 border border-hide border-tertiary rounded-4\"\n      >\n        <div>\n          <form\n            v-if=\"activeForm === 'createFrom'\"\n            @submit.prevent=\"createStore\"\n          >\n            <h2>Create New Store</h2>\n            <div class=\"mb-3\">\n              <label for=\"storeName\" class=\"form-label\">Store Name</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"storeName\"\n                placeholder=\"Name of your store\"\n                required\n                v-model=\"storeName\"\n              />\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"createStoreCode\" class=\"form-label\">Store Code</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"createStoreCode\"\n                placeholder=\"Unique Code for your store, used for invitation\"\n                required\n                v-model=\"createStoreCode\"\n              />\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"createStorePassword\" class=\"form-label\"\n                >Store Password</label\n              >\n              <input\n                type=\"password\"\n                class=\"form-control\"\n                id=\"createStorePassword\"\n                placeholder=\"Password of at least 8 characters for invitaion\"\n                required\n                v-model=\"createStorePassword\"\n              />\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary my-2\">\n              Create Store\n            </button>\n\n            <hr />\n            <p class=\"\">Not an Owner?</p>\n            <button\n              type=\"button\"\n              class=\"btn btn-primary\"\n              @click=\"toggleForms('JoinForm')\"\n            >\n              Join an Existing Store\n            </button>\n          </form>\n\n          <form v-if=\"activeForm === 'JoinForm'\" @submit.prevent=\"joinStore\">\n            <h2>Join an Existing Store</h2>\n            <div class=\"mb-3\">\n              <label for=\"joinStoreCode\" class=\"form-label\">Store Code</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"joinStoreCode\"\n                placeholder=\"Store Code given by the store admin\"\n                required\n                v-model=\"joinStoreCode\"\n              />\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"joinStorePassword\" class=\"form-label\"\n                >Store Password</label\n              >\n              <input\n                type=\"password\"\n                class=\"form-control\"\n                id=\"joinStorePassword\"\n                placeholder=\"Store Password given by the store admin\"\n                required\n                v-model=\"joinStorePassword\"\n              />\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary my-2\">\n              Join Store\n            </button>\n            <hr />\n            <p class=\"\">Creating a New Store?</p>\n            <button\n              type=\"button\"\n              class=\"btn btn-primary\"\n              @click=\"toggleForms('createFrom')\"\n            >\n              Create a New Store\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport store from \"@/store/modules/store\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n\n    const activeForm = ref(\"createFrom\");\n\n    const clearForms = () => {\n      storeName.value = \"\";\n      createStoreCode.value = \"\";\n      createStorePassword.value = \"\";\n      joinStoreCode.value = \"\";\n      joinStorePassword.value = \"\";\n    };\n\n    const toggleForms = (formName) => {\n      clearForms();\n      activeForm.value = formName;\n    };\n\n    const storeName = ref(\"\");\n    const createStoreCode = ref(\"\");\n    const createStorePassword = ref(\"\");\n    const joinStoreCode = ref(\"\");\n    const joinStorePassword = ref(\"\");\n\n    const createStore = async () => {\n      const createStoreRequest = {\n        name: storeName.value,\n        storeCode: createStoreCode.value,\n        password: createStorePassword.value,\n      };\n      const validation = await store.dispatch(\n        \"store/createStore\",\n        createStoreRequest\n      );\n      if (validation) {\n        router.push(\"/dashboard\");\n      } else {\n        alert(\"Store code has already been used\");\n        createStoreCode.value = \"\";\n        createStorePassword.value = \"\";\n      }\n    };\n\n    const joinStore = async () => {\n      const joinStoreRequest = {\n        storeCode: joinStoreCode.value,\n        password: joinStorePassword.value,\n      };\n      const validation = await store.dispatch(\n        \"store/joinStore\",\n        joinStoreRequest\n      );\n      if (validation) {\n        router.push(\"/dashboard\");\n      } else {\n        alert(\"Inccorect Store code or password\");\n        createStoreCode.value = \"\";\n        createStorePassword.value = \"\";\n      }\n    };\n\n    return {\n      activeForm,\n      toggleForms,\n      storeName,\n      createStoreCode,\n      createStorePassword,\n      joinStoreCode,\n      joinStorePassword,\n      createStore,\n      joinStore,\n    };\n  },\n};\n</script>\n\n<style scode>\n@media (max-width: 768px) {\n  .border-hide {\n    border: none !important; /* Hide the border */\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}