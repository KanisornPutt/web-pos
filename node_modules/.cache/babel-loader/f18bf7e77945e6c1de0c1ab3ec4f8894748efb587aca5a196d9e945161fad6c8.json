{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = [\"href\", \"aria-controls\"];\nconst _hoisted_2 = {\n  class: \"row align-items-center\"\n};\nconst _hoisted_3 = {\n  class: \"col-3\"\n};\nconst _hoisted_4 = {\n  class: \"mb-0\"\n};\nconst _hoisted_5 = {\n  class: \"col-6\"\n};\nconst _hoisted_6 = {\n  class: \"mb-0\"\n};\nconst _hoisted_7 = {\n  class: \"col-3\"\n};\nconst _hoisted_8 = {\n  class: \"mb-0 text-end\"\n};\nconst _hoisted_9 = {\n  class: \"row align-items-center\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-3\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_11 = {\n  class: \"col-9\"\n};\nconst _hoisted_12 = {\n  class: \"fw-light my-0\"\n};\nconst _hoisted_13 = {\n  class: \"fw-light my-0\"\n};\nconst _hoisted_14 = [\"id\"];\nconst _hoisted_15 = {\n  class: \"card card-body\"\n};\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"mt-2 mb-1\"\n}, \"Amount\", -1 /* HOISTED */);\nconst _hoisted_17 = {\n  class: \"row justify-content-center align-items-center\",\n  style: {\n    \"width\": \"100%\"\n  }\n};\nconst _hoisted_18 = {\n  class: \"col-3 text-start\"\n};\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-dash\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_20 = [_hoisted_19];\nconst _hoisted_21 = {\n  class: \"col-6 text-center\"\n};\nconst _hoisted_22 = {\n  class: \"col-3 text-end\"\n};\nconst _hoisted_23 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-plus\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_24 = [_hoisted_23];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", {\n    class: \"container mb-2\",\n    \"data-bs-toggle\": \"collapse\",\n    href: $setup.collapseHref,\n    role: \"button\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.updateCart && $setup.updateCart(...args)),\n    \"aria-expanded\": \"false\",\n    \"aria-controls\": $setup.collapseHref\n  }, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"p\", _hoisted_4, [_createTextVNode(\" x \"), _createElementVNode(\"span\", null, _toDisplayString($setup.item.amount), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"p\", _hoisted_6, _toDisplayString($setup.item.name), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"p\", _hoisted_8, _toDisplayString($setup.item.price * $setup.item.amount), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _createElementVNode(\"div\", _hoisted_11, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.item.selectedOptions, (selection, i) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: i\n    }, [_createElementVNode(\"p\", _hoisted_12, [_createTextVNode(\" - \"), _createElementVNode(\"span\", null, _toDisplayString(selection), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"p\", _hoisted_13, _toDisplayString($setup.item.note), 1 /* TEXT */)])])], 8 /* PROPS */, _hoisted_1), _createElementVNode(\"div\", {\n    class: \"collapse\",\n    id: $setup.collapseId\n  }, [_createElementVNode(\"div\", _hoisted_15, [_createCommentVNode(\" Amount \"), _hoisted_16, _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"button\", {\n    class: \"btn btn-outline-secondary\",\n    onClick: _cache[1] || (_cache[1] = $event => $setup.setAmount(-1))\n  }, [..._hoisted_20])]), _createElementVNode(\"div\", _hoisted_21, [_withDirectives(_createElementVNode(\"textarea\", {\n    type: \"text\",\n    class: \"form-control fw-bold ms-2\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.amount = $event),\n    style: {\n      \"height\": \"1rem\"\n    },\n    onInput: _cache[3] || (_cache[3] = (...args) => $setup.handleAmountInput && $setup.handleAmountInput(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $setup.amount]])]), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"button\", {\n    class: \"btn btn-outline-secondary\",\n    onClick: _cache[4] || (_cache[4] = $event => $setup.setAmount(1))\n  }, [..._hoisted_24])])])])], 8 /* PROPS */, _hoisted_14)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","style","_hoisted_19","_hoisted_23","_createElementBlock","_Fragment","href","$setup","collapseHref","role","onClick","_cache","args","updateCart","_hoisted_2","_hoisted_3","_hoisted_4","_createTextVNode","_toDisplayString","item","amount","_hoisted_5","_hoisted_6","name","_hoisted_7","_hoisted_8","price","_hoisted_9","_hoisted_10","_hoisted_11","_renderList","selectedOptions","selection","i","key","_hoisted_12","_hoisted_13","note","_hoisted_1","id","collapseId","_hoisted_15","_createCommentVNode","_hoisted_16","_hoisted_17","_hoisted_18","$event","setAmount","_hoisted_20","_hoisted_21","type","onInput","handleAmountInput","_hoisted_22","_hoisted_24","_hoisted_14"],"sources":["/Users/shane/Desktop/isc project/frontend/web-pos 3.0/src/components/dashboard/itemInCart.vue"],"sourcesContent":["<template>\n  <div\n    class=\"container mb-2\"\n    data-bs-toggle=\"collapse\"\n    :href=\"collapseHref\"\n    role=\"button\"\n    @click=\"updateCart\"\n    aria-expanded=\"false\"\n    :aria-controls=\"collapseHref\"\n  >\n    <div class=\"row align-items-center\">\n      <div class=\"col-3\">\n        <p class=\"mb-0\">\n          x <span>{{ item.amount }}</span>\n        </p>\n      </div>\n      <div class=\"col-6\">\n        <p class=\"mb-0\">{{ item.name }}</p>\n      </div>\n      <div class=\"col-3\">\n        <p class=\"mb-0 text-end\">{{ item.price * item.amount }}</p>\n      </div>\n    </div>\n    <div class=\"row align-items-center\">\n      <div class=\"col-3\"></div>\n      <div class=\"col-9\">\n        <div v-for=\"(selection, i) in item.selectedOptions\" :key=\"i\">\n          <p class=\"fw-light my-0\">\n            - <span>{{ selection }}</span>\n          </p>\n        </div>\n        <p class=\"fw-light my-0\">{{ item.note }}</p>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"collapse\" :id=\"collapseId\">\n    <div class=\"card card-body\">\n      <!-- Amount -->\n      <p class=\"mt-2 mb-1\">Amount</p>\n      <div\n        class=\"row justify-content-center align-items-center\"\n        style=\"width: 100%\"\n      >\n        <div class=\"col-3 text-start\">\n          <button class=\"btn btn-outline-secondary\" @click=\"setAmount(-1)\">\n            <i class=\"bi bi-dash\"></i>\n          </button>\n        </div>\n        <div class=\"col-6 text-center\">\n          <textarea\n            type=\"text\"\n            class=\"form-control fw-bold ms-2\"\n            v-model=\"amount\"\n            style=\"height: 1rem\"\n            @input=\"handleAmountInput\"\n          ></textarea>\n        </div>\n        <div class=\"col-3 text-end\">\n          <button class=\"btn btn-outline-secondary\" @click=\"setAmount(1)\">\n            <i class=\"bi bi-plus\"></i>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed, ref } from \"vue\";\nimport { useStore } from \"vuex\";\nexport default {\n  props: [\"itemId\"],\n  setup(props) {\n    const store = useStore();\n    const item = computed(() => {\n      return store.getters['cart/getItemFromCartById'](props.itemId);\n    });\n    const collapseId = ref(\"collapse-\" + props.itemId);\n    const collapseHref = ref(\"#collapse-\" + props.itemId);\n    const amount = ref(item.value.amount);\n\n    const setAmount = (load) => {\n      amount.value = amount.value + load;\n      if (amount.value <= 0) amount.value = 0;\n      if (amount.value >= item.stock) amount.value = item.stock;\n      item.value.amount = amount.value;\n    };\n\n    const handleAmountInput = (event) => {\n      let inputValue = event.target.value;\n      inputValue = inputValue.replace(/\\D/g, \"\");\n      amount.value = parseInt(inputValue);\n      if (isNaN(amount.value)) amount.value = 0;\n      setAmount(0);\n    };\n\n    const updateCart = () => {\n    amount.value = item.value.amount\n      if (item.value.amount === 0) {\n        console.log('calling removeItemFromCart');\n        store.commit(\"cart/removeItemFromCart\", props.itemId);\n      }\n    };\n\n    return {\n      collapseHref,\n      collapseId,\n      amount,\n      setAmount,\n      handleAmountInput,\n      updateCart,\n      item,\n    };\n  },\n};\n</script>\n\n<style></style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}