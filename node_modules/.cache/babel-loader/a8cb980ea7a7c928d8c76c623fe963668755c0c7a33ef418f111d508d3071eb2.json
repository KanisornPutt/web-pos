{"ast":null,"code":"import _regeneratorRuntime from \"/Users/shane/Desktop/isc project/frontend/web-pos 3.0/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/shane/Desktop/isc project/frontend/web-pos 3.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport { ref, watch } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  setup: function setup() {\n    var firstname = ref(\"\");\n    var lastname = ref(\"\");\n    var show_name = ref(\"\");\n    var email = ref(\"\");\n    var password = ref(\"\");\n    var username = ref(\"\");\n    var checkbox = ref(false);\n    var errorMessage = ref(\"\");\n    var passwordStrengthMessage = ref([]);\n    var router = useRouter();\n    var store = useStore();\n    var checkPasswordStrength = function checkPasswordStrength() {\n      var passwordValue = password.value;\n      passwordStrengthMessage.value = [];\n      if (passwordValue.length < 8) {\n        passwordStrengthMessage.value.push(\"Password must be at least 8 characters long.\");\n      }\n      if (!/[!@#$%^&*()_+\\-=[\\]{};':\"\\\\|,.<>/? ]+/.test(passwordValue)) {\n        passwordStrengthMessage.value.push(\"Password must have special character.\");\n      }\n      if (!/\\d+/.test(passwordValue)) {\n        passwordStrengthMessage.value.push(\"Password must have number.\");\n      }\n      if (!/[A-Z]+/.test(passwordValue)) {\n        passwordStrengthMessage.value.push(\"Password must have capital letter.\");\n      }\n    };\n    watch(password, checkPasswordStrength);\n    var handleRegister = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var registerUser;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              errorMessage.value = \"\";\n              registerUser = {\n                firstname: firstname.value.trim(),\n                lastname: lastname.value.trim(),\n                show_name: show_name.value.trim(),\n                email: email.value.trim().toLowerCase(),\n                password: password.value\n              };\n              _context.next = 5;\n              return store.dispatch(\"auth/register\", registerUser);\n            case 5:\n              router.push(\"/dashboard\"); //change to the dash board\n\n              // Handle successful registration (redirect, show success message, etc.)\n              _context.next = 11;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              errorMessage.value = _context.t0.response.data;\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 8]]);\n      }));\n      return function handleRegister() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var loginWithOAuth = function loginWithOAuth() {\n      store.commit('auth/loginWithOAuth');\n    };\n    return {\n      firstname: firstname,\n      lastname: lastname,\n      show_name: show_name,\n      email: email,\n      password: password,\n      checkbox: checkbox,\n      username: username,\n      handleRegister: handleRegister,\n      errorMessage: errorMessage,\n      checkPasswordStrength: checkPasswordStrength,\n      passwordStrengthMessage: passwordStrengthMessage,\n      loginWithOAuth: loginWithOAuth\n    };\n  }\n};","map":{"version":3,"names":["ref","watch","useStore","useRouter","setup","firstname","lastname","show_name","email","password","username","checkbox","errorMessage","passwordStrengthMessage","router","store","checkPasswordStrength","passwordValue","value","length","push","test","handleRegister","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","registerUser","wrap","_callee$","_context","prev","next","trim","toLowerCase","dispatch","t0","response","data","stop","apply","arguments","loginWithOAuth","commit"],"sources":["/Users/shane/Desktop/isc project/frontend/web-pos 3.0/src/components/auth/SignupForm.vue"],"sourcesContent":["<template>\n  <form @submit.prevent=\"handleRegister\">\n    <div class=\"row mt-4\">\n      <div class=\"col-6\">\n        <label class=\"form-label\">firstname</label>\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"firstname\"\n          placeholder=\"firstname\"\n          required\n        />\n      </div>\n      <div class=\"col-6\">\n        <label class=\"form-label\">lastname</label>\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"lastname\"\n          placeholder=\"lastname\"\n          required\n        />\n      </div>\n    </div>\n\n    <div class=\"my-3\">\n      <label class=\"form-label\">Username</label>\n      <input\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"show_name\"\n        placeholder=\"username\"\n        required\n      />\n    </div>\n    <div class=\"mb-3\">\n      <label class=\"form-label\">Email address</label>\n      <input\n        type=\"email\"\n        class=\"form-control\"\n        aria-describedby=\"emailHelp\"\n        placeholder=\"name@example.com\"\n        v-model=\"email\"\n        required\n      />\n    </div>\n    <div class=\"mb-3\">\n      <label class=\"form-label\">Password</label>\n      <input\n        type=\"password\"\n        class=\"form-control\"\n        v-model=\"password\"\n        placeholder=\"password of 8 charactors or more\"\n        required\n      />\n      <ul>\n        <li\n          v-for=\"message in passwordStrengthMessage\"\n          :key=\"message\"\n          class=\"text-danger\"\n        >\n          {{ message }}\n        </li>\n      </ul>\n    </div>\n    <div class=\"my-3 form-check\">\n      <input type=\"checkbox\" class=\"form-check-input\" v-model=\"checkbox\" />\n      <label class=\"form-check-label\">\n        <a href=\"#terms\">Accept conditions & terms</a></label\n      >\n    </div>\n\n\n\n    <div class=\"row justify-content-center m-3 mt-3 mb-2\">\n      <button type=\"submit\" class=\"btn btn-primary col-6\">Sign Up</button>\n    </div>\n\n    <div class=\"break-line mx-3 text-secondary\"> <span class=\"mx-2\">or</span> </div>\n\n    <div class=\"row justify-content-center mt-2 mx-3\">\n      <button\n        type=\"button\"\n        @click=\"loginWithOAuth\"\n        class=\"btn btn-primary col-6\"\n      >\n        Continue with Google\n      </button>\n\n      <p class=\"fs-6 text-center\">\n        Already have an account?\n        <a href=\"/login\" class=\"text-decoration-none col-12\">Login now</a>\n      </p>\n      <p v-show=\"errorMessage\" class=\"fs-6 text-center text-danger\">\n        {{ errorMessage }}\n      </p>\n    </div>\n  </form>\n</template>\n\n<script>\nimport { ref, watch } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\n\nexport default {\n  setup() {\n    const firstname = ref(\"\");\n    const lastname = ref(\"\");\n    const show_name = ref(\"\");\n    const email = ref(\"\");\n    const password = ref(\"\");\n    const username = ref(\"\");\n    const checkbox = ref(false);\n    const errorMessage = ref(\"\");\n    const passwordStrengthMessage = ref([]);\n\n    const router = useRouter();\n    const store = useStore();\n\n    const checkPasswordStrength = () => {\n      const passwordValue = password.value;\n      passwordStrengthMessage.value = [];\n      if (passwordValue.length < 8) {\n        passwordStrengthMessage.value.push(\n          \"Password must be at least 8 characters long.\"\n        );\n      }\n      if (!/[!@#$%^&*()_+\\-=[\\]{};':\"\\\\|,.<>/? ]+/.test(passwordValue)) {\n        passwordStrengthMessage.value.push(\n          \"Password must have special character.\"\n        );\n      }\n      if (!/\\d+/.test(passwordValue)) {\n        passwordStrengthMessage.value.push(\"Password must have number.\");\n      }\n      if (!/[A-Z]+/.test(passwordValue)) {\n        passwordStrengthMessage.value.push(\n          \"Password must have capital letter.\"\n        );\n      }\n    };\n\n    watch(password, checkPasswordStrength);\n\n    const handleRegister = async () => {\n      try {\n        errorMessage.value = \"\";\n        const registerUser = {\n          firstname: firstname.value.trim(),\n          lastname: lastname.value.trim(),\n          show_name: show_name.value.trim(),\n          email: email.value.trim().toLowerCase(),\n          password: password.value,\n        };\n        await store.dispatch(\"auth/register\", registerUser);\n\n        router.push(\"/dashboard\");//change to the dash board\n\n        // Handle successful registration (redirect, show success message, etc.)\n      } catch (error) {\n        errorMessage.value = error.response.data;\n      }\n    };\n\n    const loginWithOAuth = () => {\n      store.commit('auth/loginWithOAuth');\n    };\n\n    return {\n      firstname,\n      lastname,\n      show_name,\n      email,\n      password,\n      checkbox,\n      username,\n      handleRegister,\n      errorMessage,\n      checkPasswordStrength,\n      passwordStrengthMessage,\n      loginWithOAuth,\n    };\n  },\n};\n</script>\n\n    <style>\n        .break-line {\n            display: flex;\n            align-items: center;\n            text-align: center;\n        }\n        .break-line::before,\n        .break-line::after {\n            content: '';\n            flex: 1;\n            border-bottom: 1px solid #ddd;\n        }\n        .break-line:not(:empty)::before {\n            margin-right: .25em;\n        }\n        .break-line:not(:empty)::after {\n            margin-left: .25em;\n        }\n    </style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}