{"ast":null,"code":"import { computed, ref } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  setup() {\n    const email = ref(\"\");\n    const password = ref(\"\");\n    const store = useStore();\n    const router = useRouter();\n    const errorMessage = ref(\"\");\n    const handleSubmit = async () => {\n      try {\n        errorMessage.value = \"\";\n        const loginUser = {\n          email: email.value.toLowerCase(),\n          password: password.value\n        };\n        await store.dispatch(\"auth/login\", loginUser);\n        await store.dispatch('auth/getUser');\n        router.push(\"/dashboard\");\n      } catch (error) {\n        console.error(\"Error during login:\", error);\n        errorMessage.value = \"Wrong_UserName_Or_Password\";\n      }\n    };\n    const loginWithOAuth = () => {\n      store.commit('auth/loginWithOAuth');\n    };\n    return {\n      email,\n      password,\n      handleSubmit,\n      loginWithOAuth,\n      errorMessage\n    };\n  }\n};","map":{"version":3,"names":["computed","ref","useStore","useRouter","setup","email","password","store","router","errorMessage","handleSubmit","value","loginUser","toLowerCase","dispatch","push","error","console","loginWithOAuth","commit"],"sources":["/Users/shane/Desktop/isc project/frontend/web-pos 3.0/src/components/auth/LoginForm.vue"],"sourcesContent":["<template>\n  <form @submit.prevent=\"handleSubmit\">\n    <div class=\"mb-3\">\n      <label class=\"form-label\">Email address</label>\n      <input\n        type=\"text\"\n        class=\"form-control\"\n        aria-describedby=\"emailHelp\"\n        v-model=\"email\"\n        placeholder=\"name@example.com\"\n        required\n      />\n    </div>\n    <div class=\"mb-3\">\n      <label class=\"form-label\">Password</label>\n      <input\n        type=\"password\"\n        class=\"form-control\"\n        v-model=\"password\"\n        placeholder=\"password\"\n        required\n      />\n    </div>\n\n    <div class=\"row justify-content-center mx-3\">\n      <button type=\"submit\" class=\"btn btn-primary col-6 m-3\" >\n        Login\n      </button>\n    </div>\n\n    <div class=\"break-line mx-3 text-secondary\"> <span class=\"mx-2\">or</span> </div>\n\n    <div class=\"row justify-content-center mt-3 mx-3\">\n      <button\n        type=\"button\"\n        @click=\"loginWithOAuth\"\n        class=\"btn btn-primary col-6\"\n      >\n        Continue with Google\n      </button>\n      <p class=\"fs-6 text-center mt-3\">\n        Don't have an account yet?\n        <a href=\"/signup\" class=\"text-decoration-none\">Signup now</a>\n      </p>\n      <p v-show=\"errorMessage\" class=\"fs-6 text-center text-danger\">\n        {{ errorMessage }}\n      </p>\n    </div>\n  </form>\n</template>\n\n<script>\nimport { computed, ref } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  setup() {\n    const email = ref(\"\");\n    const password = ref(\"\");\n\n    const store = useStore();\n    const router = useRouter();\n\n    const errorMessage = ref(\"\");\n\n    const handleSubmit = async () => {\n      try {\n        errorMessage.value = \"\";\n        const loginUser = {\n          email: email.value.toLowerCase(),\n          password: password.value,\n        };\n        await store.dispatch(\"auth/login\", loginUser);\n        await store.dispatch('auth/getUser');\n        router.push(\"/dashboard\");\n      } catch (error) {\n        console.error(\"Error during login:\", error);\n        errorMessage.value = \"Wrong_UserName_Or_Password\";\n      }\n    };\n\n    const loginWithOAuth = () => {\n      store.commit('auth/loginWithOAuth');\n    };\n\n    return { email, password, handleSubmit, loginWithOAuth, errorMessage };\n  },\n};\n</script>\n\n    <style>\n        .break-line {\n            display: flex;\n            align-items: center;\n            text-align: center;\n        }\n        .break-line::before,\n        .break-line::after {\n            content: '';\n            flex: 1;\n            border-bottom: 1px solid #ddd;\n        }\n        .break-line:not(:empty)::before {\n            margin-right: .25em;\n        }\n        .break-line:not(:empty)::after {\n            margin-left: .25em;\n        }\n    </style>"],"mappings":"AAoDA,SAASA,QAAQ,EAAEC,GAAE,QAAS,KAAK;AACnC,SAASC,QAAO,QAAS,MAAM;AAC/B,SAASC,SAAQ,QAAS,YAAY;AACtC,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIJ,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMK,QAAO,GAAIL,GAAG,CAAC,EAAE,CAAC;IAExB,MAAMM,KAAI,GAAIL,QAAQ,CAAC,CAAC;IACxB,MAAMM,MAAK,GAAIL,SAAS,CAAC,CAAC;IAE1B,MAAMM,YAAW,GAAIR,GAAG,CAAC,EAAE,CAAC;IAE5B,MAAMS,YAAW,GAAI,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACFD,YAAY,CAACE,KAAI,GAAI,EAAE;QACvB,MAAMC,SAAQ,GAAI;UAChBP,KAAK,EAAEA,KAAK,CAACM,KAAK,CAACE,WAAW,CAAC,CAAC;UAChCP,QAAQ,EAAEA,QAAQ,CAACK;QACrB,CAAC;QACD,MAAMJ,KAAK,CAACO,QAAQ,CAAC,YAAY,EAAEF,SAAS,CAAC;QAC7C,MAAML,KAAK,CAACO,QAAQ,CAAC,cAAc,CAAC;QACpCN,MAAM,CAACO,IAAI,CAAC,YAAY,CAAC;MAC3B,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;QAC3CP,YAAY,CAACE,KAAI,GAAI,4BAA4B;MACnD;IACF,CAAC;IAED,MAAMO,cAAa,GAAIA,CAAA,KAAM;MAC3BX,KAAK,CAACY,MAAM,CAAC,qBAAqB,CAAC;IACrC,CAAC;IAED,OAAO;MAAEd,KAAK;MAAEC,QAAQ;MAAEI,YAAY;MAAEQ,cAAc;MAAET;IAAa,CAAC;EACxE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}