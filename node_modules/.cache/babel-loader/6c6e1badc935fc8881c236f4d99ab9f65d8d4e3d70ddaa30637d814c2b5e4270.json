{"ast":null,"code":"import axios from \"axios\";\nconst state = {\n  storeData: JSON.parse(localStorage.getItem(\"storeData\")) || null,\n  token: localStorage.getItem(\"token\") || \"\",\n  user: JSON.parse(localStorage.getItem(\"user\")) || null\n};\nconst mutations = {\n  setStore(state, requestStore) {\n    console.log(\"Setting Store\");\n    console.log(requestStore);\n    state.storeData = requestStore;\n    localStorage.setItem(\"storeData\", JSON.stringify(requestStore));\n  }\n};\nconst actions = {\n  async createStore({\n    state,\n    commit\n  }, payload) {\n    console.log(\"Creating store\");\n    const url = \"/api/stores/\" + state.user.userId; // Replace with your API endpoint\n    const token = state.token; // Replace with your actual Bearer token\n    const storeData = payload;\n    try {\n      const response = await axios.post(url, storeData, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json' // If you're sending JSON data\n        }\n      });\n      commit(\"auth/setStore\", response.data, {\n        root: true\n      });\n      return true;\n    } catch (error) {\n      console.error('There was an error : ', error);\n      return false;\n    }\n  },\n  async joinStore({\n    state,\n    commit\n  }, payload) {\n    console.log(\"Joining store\");\n    const url = \"/api/stores/join/\" + state.user.userId; // Replace with your API endpoint\n    const token = state.token; // Replace with your actual Bearer token\n    const joinRequest = payload;\n    try {\n      const response = await axios.put(url, joinRequest, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json' // If you're sending JSON data\n        }\n      });\n      commit(\"auth/setStore\", response.data, {\n        root: true\n      });\n      return true;\n    } catch (error) {\n      console.error('There was an error : ', error);\n      return false;\n    }\n  },\n  async leaveStore({\n    state,\n    commit\n  }) {\n    console.log(\"Leaving store\");\n    const url = \"/api/users/removeStore/\" + state.user.userId;\n    const token = state.token;\n    try {\n      const response = await axios.put(url, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      commit(\"auth/setUser\", response.data, {\n        root: true\n      });\n      return true;\n    } catch (error) {\n      console.error('There was an error : ', error);\n      return false;\n    }\n  }\n};\nconst getters = {};\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions,\n  getters\n};","map":{"version":3,"names":["axios","state","storeData","JSON","parse","localStorage","getItem","token","user","mutations","setStore","requestStore","console","log","setItem","stringify","actions","createStore","commit","payload","url","userId","response","post","headers","data","root","error","joinStore","joinRequest","put","leaveStore","getters","namespaced"],"sources":["/Users/shane/Desktop/isc project/frontend/web-pos 3.0/src/store/modules/store.js"],"sourcesContent":["import axios from \"axios\";\n\nconst state = {\n    storeData: JSON.parse(localStorage.getItem(\"storeData\")) || null,\n    token: localStorage.getItem(\"token\") || \"\",\n    user: JSON.parse(localStorage.getItem(\"user\")) || null,\n};\n\nconst mutations = {\n    setStore(state, requestStore) {\n        console.log(\"Setting Store\");\n        console.log(requestStore);\n        state.storeData = requestStore;\n        localStorage.setItem(\"storeData\", JSON.stringify(requestStore));\n    },\n  \n};\n\nconst actions = {\n\n    async createStore({state, commit}, payload ) {\n        console.log(\"Creating store\");\n        const url = \"/api/stores/\" + state.user.userId; // Replace with your API endpoint\n        const token = state.token; // Replace with your actual Bearer token\n        const storeData = payload\n        try {\n            const response = await axios.post(url, storeData, {\n                headers: {\n                  'Authorization': `Bearer ${token}`,\n                  'Content-Type': 'application/json' // If you're sending JSON data\n                }\n              });\n              commit(\"auth/setStore\", response.data, {root: true});\n            return true;\n            \n        } catch (error) {\n            console.error('There was an error : ', error);\n            return false;\n        }\n      },\n\n      async joinStore({state, commit}, payload) {\n        console.log(\"Joining store\");\n        const url = \"/api/stores/join/\" + state.user.userId; // Replace with your API endpoint\n        const token = state.token; // Replace with your actual Bearer token\n        const joinRequest = payload\n        try {\n            const response = await axios.put(url, joinRequest, {\n                headers: {\n                  'Authorization': `Bearer ${token}`,\n                  'Content-Type': 'application/json' // If you're sending JSON data\n                }\n              });\n              commit(\"auth/setStore\", response.data, {root: true});\n            return true;\n            \n        } catch (error) {\n            console.error('There was an error : ', error);\n            return false;\n        }\n      },\n\n\n      async leaveStore({state, commit}) {\n        console.log(\"Leaving store\");\n        const url = \"/api/users/removeStore/\" + state.user.userId; \n        const token = state.token;\n        try {\n            const response = await axios.put(url, {\n                headers: {\n                  'Authorization': `Bearer ${token}`,\n                }\n              });\n              commit(\"auth/setUser\", response.data, {root: true});\n\n            return true;\n            \n        } catch (error) {\n            console.error('There was an error : ', error);\n            return false;\n        }\n      },\n\n\n\n};\n\nconst getters = {\n  \n};\n\nexport default {\n    namespaced: true,\n    state,\n    mutations,\n    actions,\n    getters,\n  };\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,KAAK,GAAG;EACVC,SAAS,EAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,IAAI,IAAI;EAChEC,KAAK,EAAEF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE;EAC1CE,IAAI,EAAEL,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI;AACtD,CAAC;AAED,MAAMG,SAAS,GAAG;EACdC,QAAQA,CAACT,KAAK,EAAEU,YAAY,EAAE;IAC1BC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;IAC5BD,OAAO,CAACC,GAAG,CAACF,YAAY,CAAC;IACzBV,KAAK,CAACC,SAAS,GAAGS,YAAY;IAC9BN,YAAY,CAACS,OAAO,CAAC,WAAW,EAAEX,IAAI,CAACY,SAAS,CAACJ,YAAY,CAAC,CAAC;EACnE;AAEJ,CAAC;AAED,MAAMK,OAAO,GAAG;EAEZ,MAAMC,WAAWA,CAAC;IAAChB,KAAK;IAAEiB;EAAM,CAAC,EAAEC,OAAO,EAAG;IACzCP,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;IAC7B,MAAMO,GAAG,GAAG,cAAc,GAAGnB,KAAK,CAACO,IAAI,CAACa,MAAM,CAAC,CAAC;IAChD,MAAMd,KAAK,GAAGN,KAAK,CAACM,KAAK,CAAC,CAAC;IAC3B,MAAML,SAAS,GAAGiB,OAAO;IACzB,IAAI;MACA,MAAMG,QAAQ,GAAG,MAAMtB,KAAK,CAACuB,IAAI,CAACH,GAAG,EAAElB,SAAS,EAAE;QAC9CsB,OAAO,EAAE;UACP,eAAe,EAAE,UAAUjB,KAAK,EAAE;UAClC,cAAc,EAAE,kBAAkB,CAAC;QACrC;MACF,CAAC,CAAC;MACFW,MAAM,CAAC,eAAe,EAAEI,QAAQ,CAACG,IAAI,EAAE;QAACC,IAAI,EAAE;MAAI,CAAC,CAAC;MACtD,OAAO,IAAI;IAEf,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZf,OAAO,CAACe,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7C,OAAO,KAAK;IAChB;EACF,CAAC;EAED,MAAMC,SAASA,CAAC;IAAC3B,KAAK;IAAEiB;EAAM,CAAC,EAAEC,OAAO,EAAE;IACxCP,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;IAC5B,MAAMO,GAAG,GAAG,mBAAmB,GAAGnB,KAAK,CAACO,IAAI,CAACa,MAAM,CAAC,CAAC;IACrD,MAAMd,KAAK,GAAGN,KAAK,CAACM,KAAK,CAAC,CAAC;IAC3B,MAAMsB,WAAW,GAAGV,OAAO;IAC3B,IAAI;MACA,MAAMG,QAAQ,GAAG,MAAMtB,KAAK,CAAC8B,GAAG,CAACV,GAAG,EAAES,WAAW,EAAE;QAC/CL,OAAO,EAAE;UACP,eAAe,EAAE,UAAUjB,KAAK,EAAE;UAClC,cAAc,EAAE,kBAAkB,CAAC;QACrC;MACF,CAAC,CAAC;MACFW,MAAM,CAAC,eAAe,EAAEI,QAAQ,CAACG,IAAI,EAAE;QAACC,IAAI,EAAE;MAAI,CAAC,CAAC;MACtD,OAAO,IAAI;IAEf,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZf,OAAO,CAACe,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7C,OAAO,KAAK;IAChB;EACF,CAAC;EAGD,MAAMI,UAAUA,CAAC;IAAC9B,KAAK;IAAEiB;EAAM,CAAC,EAAE;IAChCN,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;IAC5B,MAAMO,GAAG,GAAG,yBAAyB,GAAGnB,KAAK,CAACO,IAAI,CAACa,MAAM;IACzD,MAAMd,KAAK,GAAGN,KAAK,CAACM,KAAK;IACzB,IAAI;MACA,MAAMe,QAAQ,GAAG,MAAMtB,KAAK,CAAC8B,GAAG,CAACV,GAAG,EAAE;QAClCI,OAAO,EAAE;UACP,eAAe,EAAE,UAAUjB,KAAK;QAClC;MACF,CAAC,CAAC;MACFW,MAAM,CAAC,cAAc,EAAEI,QAAQ,CAACG,IAAI,EAAE;QAACC,IAAI,EAAE;MAAI,CAAC,CAAC;MAErD,OAAO,IAAI;IAEf,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZf,OAAO,CAACe,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7C,OAAO,KAAK;IAChB;EACF;AAIN,CAAC;AAED,MAAMK,OAAO,GAAG,CAEhB,CAAC;AAED,eAAe;EACXC,UAAU,EAAE,IAAI;EAChBhC,KAAK;EACLQ,SAAS;EACTO,OAAO;EACPgB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}