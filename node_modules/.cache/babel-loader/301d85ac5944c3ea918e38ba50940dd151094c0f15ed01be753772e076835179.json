{"ast":null,"code":"import { ref } from \"vue\";\nimport { useStore } from \"vuex\";\nexport default {\n  props: [\"modalId\", \"modelTitle\"],\n  emits: [\"continue\"],\n  setup(props, {\n    emit\n  }) {\n    const password = ref(\"\");\n    const modalTitle = props.modelTitle;\n    const store = useStore();\n    const errorMsg = ref(\"\");\n    const handleContinue = async () => {\n      const passwordRequest = {\n        password: password.value\n      };\n      try {\n        const validation = await store.dispatch(\"user/checkPassword\", passwordRequest);\n        if (validation) {\n          errorMsg.value = \"\";\n          emit(\"continue\");\n        } else {\n          password.value = \"\";\n          errorMsg.value = \"Incorrect password\";\n        }\n      } catch (error) {\n        console.error(\"Error while checking password: \", error);\n        errorMsg.value = \"Error occurred while checking password\";\n      }\n    };\n    return {\n      password,\n      modalTitle,\n      errorMsg,\n      handleContinue\n    };\n  }\n};","map":{"version":3,"names":["ref","useStore","props","emits","setup","emit","password","modalTitle","modelTitle","store","errorMsg","handleContinue","passwordRequest","value","validation","dispatch","error","console"],"sources":["/Users/shane/Desktop/isc project/frontend/web-pos 3.0/src/components/CheckPasswordModal.vue"],"sourcesContent":["<template>\n  <!-- Modal -->\n  <div\n    class=\"modal fade\"\n    :id=\"modalId\"\n    tabindex=\"-1\"\n    aria-labelledby=\"ModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <form\n      class=\"modal-dialog modal-dialog-centered\"\n      @submit.prevent=\"handleContinue\"\n    >\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">\n            {{ modalTitle }}\n          </h1>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <h5>Please Enter Your Password to Continue</h5>\n          <input\n            type=\"password\"\n            class=\"border border-secondary rounded-1\"\n            v-model=\"password\"\n            style=\"width: 95%; font-size: 20px\"\n            required\n          />\n          <p class=\"text-danger\">{{ errorMsg }}</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            Cancel\n          </button>\n          <button type=\"submit\" class=\"btn btn-primary\">Continue</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport { useStore } from \"vuex\";\nexport default {\n  props: [\"modalId\", \"modelTitle\"],\n  emits: [\"continue\"],\n  setup(props, { emit }) {\n    const password = ref(\"\");\n    const modalTitle = props.modelTitle;\n    const store = useStore();\n    const errorMsg = ref(\"\");\n\n    const handleContinue = async () => {\n      const passwordRequest = {\n        password: password.value,\n      };\n      try {\n        const validation = await store.dispatch(\n          \"user/checkPassword\",\n          passwordRequest\n        );\n        if (validation) {\n          errorMsg.value = \"\";\n          emit(\"continue\");\n        } else {\n          password.value = \"\";\n          errorMsg.value = \"Incorrect password\";\n        }\n      } catch (error) {\n        console.error(\"Error while checking password: \", error);\n        errorMsg.value = \"Error occurred while checking password\";\n      }\n    };\n\n    return {\n      password,\n      modalTitle,\n      errorMsg,\n      handleContinue,\n    };\n  },\n};\n</script>\n\n<style></style>\n"],"mappings":"AAoDA,SAASA,GAAE,QAAS,KAAK;AACzB,SAASC,QAAO,QAAS,MAAM;AAC/B,eAAe;EACbC,KAAK,EAAE,CAAC,SAAS,EAAE,YAAY,CAAC;EAChCC,KAAK,EAAE,CAAC,UAAU,CAAC;EACnBC,KAAKA,CAACF,KAAK,EAAE;IAAEG;EAAK,CAAC,EAAE;IACrB,MAAMC,QAAO,GAAIN,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMO,UAAS,GAAIL,KAAK,CAACM,UAAU;IACnC,MAAMC,KAAI,GAAIR,QAAQ,CAAC,CAAC;IACxB,MAAMS,QAAO,GAAIV,GAAG,CAAC,EAAE,CAAC;IAExB,MAAMW,cAAa,GAAI,MAAAA,CAAA,KAAY;MACjC,MAAMC,eAAc,GAAI;QACtBN,QAAQ,EAAEA,QAAQ,CAACO;MACrB,CAAC;MACD,IAAI;QACF,MAAMC,UAAS,GAAI,MAAML,KAAK,CAACM,QAAQ,CACrC,oBAAoB,EACpBH,eACF,CAAC;QACD,IAAIE,UAAU,EAAE;UACdJ,QAAQ,CAACG,KAAI,GAAI,EAAE;UACnBR,IAAI,CAAC,UAAU,CAAC;QAClB,OAAO;UACLC,QAAQ,CAACO,KAAI,GAAI,EAAE;UACnBH,QAAQ,CAACG,KAAI,GAAI,oBAAoB;QACvC;MACF,EAAE,OAAOG,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;QACvDN,QAAQ,CAACG,KAAI,GAAI,wCAAwC;MAC3D;IACF,CAAC;IAED,OAAO;MACLP,QAAQ;MACRC,UAAU;MACVG,QAAQ;MACRC;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}