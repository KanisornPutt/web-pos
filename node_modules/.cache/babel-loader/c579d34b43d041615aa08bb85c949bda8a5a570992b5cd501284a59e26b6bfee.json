{"ast":null,"code":"import _regeneratorRuntime from \"/Users/shane/Desktop/isc project/frontend/web-pos 3.0/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/shane/Desktop/isc project/frontend/web-pos 3.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.date.to-json.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport axios from \"axios\";\nvar state = {\n  storeData: JSON.parse(localStorage.getItem(\"storeData\")) || null,\n  token: localStorage.getItem(\"token\") || \"\",\n  user: JSON.parse(localStorage.getItem(\"user\")) || null\n};\nvar mutations = {\n  setStore: function setStore(state, requestStore) {\n    console.log(\"Setting Store\");\n    console.log(requestStore);\n    state.storeData = requestStore;\n    localStorage.setItem(\"storeData\", JSON.stringify(requestStore));\n  }\n};\nvar actions = {\n  createStore: function createStore(_ref, payload) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var state, commit, url, token, storeData, response;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            state = _ref.state, commit = _ref.commit;\n            console.log(\"Creating store\");\n            url = \"/api/stores/\" + state.user.userId; // Replace with your API endpoint\n            token = state.token; // Replace with your actual Bearer token\n            storeData = payload;\n            _context.prev = 5;\n            _context.next = 8;\n            return axios.post(url, storeData, {\n              headers: {\n                'Authorization': \"Bearer \".concat(token),\n                'Content-Type': 'application/json' // If you're sending JSON data\n              }\n            });\n          case 8:\n            response = _context.sent;\n            commit(\"auth/setStore\", response.data, {\n              root: true\n            });\n            return _context.abrupt(\"return\", true);\n          case 13:\n            _context.prev = 13;\n            _context.t0 = _context[\"catch\"](5);\n            console.error('There was an error : ', _context.t0);\n            return _context.abrupt(\"return\", false);\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[5, 13]]);\n    }))();\n  },\n  joinStore: function joinStore(_ref2, payload) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var state, commit, url, token, joinRequest, response;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            state = _ref2.state, commit = _ref2.commit;\n            console.log(\"Joining store\");\n            url = \"/api/stores/join/\" + state.user.userId; // Replace with your API endpoint\n            token = state.token; // Replace with your actual Bearer token\n            joinRequest = payload;\n            _context2.prev = 5;\n            _context2.next = 8;\n            return axios.put(url, joinRequest, {\n              headers: {\n                'Authorization': \"Bearer \".concat(token),\n                'Content-Type': 'application/json' // If you're sending JSON data\n              }\n            });\n          case 8:\n            response = _context2.sent;\n            commit(\"auth/setStore\", response.data, {\n              root: true\n            });\n            return _context2.abrupt(\"return\", true);\n          case 13:\n            _context2.prev = 13;\n            _context2.t0 = _context2[\"catch\"](5);\n            console.error('There was an error : ', _context2.t0);\n            return _context2.abrupt(\"return\", false);\n          case 17:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2, null, [[5, 13]]);\n    }))();\n  },\n  leaveStore: function leaveStore(_ref3) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      var state, commit, url, token, response;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            state = _ref3.state, commit = _ref3.commit;\n            console.log(\"Leaving store\");\n            url = \"/api/users/removeStore/\" + state.user.userId;\n            token = state.token;\n            _context3.prev = 4;\n            _context3.next = 7;\n            return axios.put(url, {\n              headers: {\n                'Authorization': \"Bearer \".concat(token)\n              }\n            });\n          case 7:\n            response = _context3.sent;\n            commit(\"auth/setUser\", response.data, {\n              root: true\n            });\n            return _context3.abrupt(\"return\", true);\n          case 12:\n            _context3.prev = 12;\n            _context3.t0 = _context3[\"catch\"](4);\n            console.error('There was an error : ', _context3.t0);\n            return _context3.abrupt(\"return\", false);\n          case 16:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3, null, [[4, 12]]);\n    }))();\n  }\n};\nvar getters = {};\nexport default {\n  namespaced: true,\n  state: state,\n  mutations: mutations,\n  actions: actions,\n  getters: getters\n};","map":{"version":3,"names":["axios","state","storeData","JSON","parse","localStorage","getItem","token","user","mutations","setStore","requestStore","console","log","setItem","stringify","actions","createStore","_ref","payload","_asyncToGenerator","_regeneratorRuntime","mark","_callee","commit","url","response","wrap","_callee$","_context","prev","next","userId","post","headers","concat","sent","data","root","abrupt","t0","error","stop","joinStore","_ref2","_callee2","joinRequest","_callee2$","_context2","put","leaveStore","_ref3","_callee3","_callee3$","_context3","getters","namespaced"],"sources":["/Users/shane/Desktop/isc project/frontend/web-pos 3.0/src/store/modules/store.js"],"sourcesContent":["import axios from \"axios\";\n\nconst state = {\n    storeData: JSON.parse(localStorage.getItem(\"storeData\")) || null,\n    token: localStorage.getItem(\"token\") || \"\",\n    user: JSON.parse(localStorage.getItem(\"user\")) || null,\n};\n\nconst mutations = {\n    setStore(state, requestStore) {\n        console.log(\"Setting Store\");\n        console.log(requestStore);\n        state.storeData = requestStore;\n        localStorage.setItem(\"storeData\", JSON.stringify(requestStore));\n    },\n  \n};\n\nconst actions = {\n\n    async createStore({state, commit}, payload ) {\n        console.log(\"Creating store\");\n        const url = \"/api/stores/\" + state.user.userId; // Replace with your API endpoint\n        const token = state.token; // Replace with your actual Bearer token\n        const storeData = payload\n        try {\n            const response = await axios.post(url, storeData, {\n                headers: {\n                  'Authorization': `Bearer ${token}`,\n                  'Content-Type': 'application/json' // If you're sending JSON data\n                }\n              });\n              commit(\"auth/setStore\", response.data, {root: true});\n            return true;\n            \n        } catch (error) {\n            console.error('There was an error : ', error);\n            return false;\n        }\n      },\n\n      async joinStore({state, commit}, payload) {\n        console.log(\"Joining store\");\n        const url = \"/api/stores/join/\" + state.user.userId; // Replace with your API endpoint\n        const token = state.token; // Replace with your actual Bearer token\n        const joinRequest = payload\n        try {\n            const response = await axios.put(url, joinRequest, {\n                headers: {\n                  'Authorization': `Bearer ${token}`,\n                  'Content-Type': 'application/json' // If you're sending JSON data\n                }\n              });\n              commit(\"auth/setStore\", response.data, {root: true});\n            return true;\n            \n        } catch (error) {\n            console.error('There was an error : ', error);\n            return false;\n        }\n      },\n\n\n      async leaveStore({state, commit}) {\n        console.log(\"Leaving store\");\n        const url = \"/api/users/removeStore/\" + state.user.userId; \n        const token = state.token;\n        try {\n            const response = await axios.put(url, {\n                headers: {\n                  'Authorization': `Bearer ${token}`,\n                }\n              });\n              commit(\"auth/setUser\", response.data, {root: true});\n\n            return true;\n            \n        } catch (error) {\n            console.error('There was an error : ', error);\n            return false;\n        }\n      },\n\n\n\n};\n\nconst getters = {\n  \n};\n\nexport default {\n    namespaced: true,\n    state,\n    mutations,\n    actions,\n    getters,\n  };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}