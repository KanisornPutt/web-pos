{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nvar _hoisted_1 = [\"href\", \"aria-controls\"];\nvar _hoisted_2 = {\n  \"class\": \"row align-items-center\"\n};\nvar _hoisted_3 = {\n  \"class\": \"col-3\"\n};\nvar _hoisted_4 = {\n  \"class\": \"mb-0\"\n};\nvar _hoisted_5 = {\n  \"class\": \"col-6\"\n};\nvar _hoisted_6 = {\n  \"class\": \"mb-0\"\n};\nvar _hoisted_7 = {\n  \"class\": \"col-3\"\n};\nvar _hoisted_8 = {\n  \"class\": \"mb-0 text-end\"\n};\nvar _hoisted_9 = {\n  \"class\": \"row align-items-center\"\n};\nvar _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"col-3\"\n}, null, -1 /* HOISTED */);\nvar _hoisted_11 = {\n  \"class\": \"col-9\"\n};\nvar _hoisted_12 = {\n  \"class\": \"fw-light my-0\"\n};\nvar _hoisted_13 = {\n  \"class\": \"fw-light my-0\"\n};\nvar _hoisted_14 = [\"id\"];\nvar _hoisted_15 = {\n  \"class\": \"card card-body\"\n};\nvar _hoisted_16 = /*#__PURE__*/_createElementVNode(\"p\", {\n  \"class\": \"mt-2 mb-1\"\n}, \"Amount\", -1 /* HOISTED */);\nvar _hoisted_17 = {\n  \"class\": \"row justify-content-center align-items-center\",\n  style: {\n    \"width\": \"100%\"\n  }\n};\nvar _hoisted_18 = {\n  \"class\": \"col-3 text-start\"\n};\nvar _hoisted_19 = /*#__PURE__*/_createElementVNode(\"i\", {\n  \"class\": \"bi bi-dash\"\n}, null, -1 /* HOISTED */);\nvar _hoisted_20 = [_hoisted_19];\nvar _hoisted_21 = {\n  \"class\": \"col-6 text-center\"\n};\nvar _hoisted_22 = {\n  \"class\": \"col-3 text-end\"\n};\nvar _hoisted_23 = /*#__PURE__*/_createElementVNode(\"i\", {\n  \"class\": \"bi bi-plus\"\n}, null, -1 /* HOISTED */);\nvar _hoisted_24 = [_hoisted_23];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", {\n    \"class\": \"container mb-2\",\n    \"data-bs-toggle\": \"collapse\",\n    href: $setup.collapseHref,\n    role: \"button\",\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $setup.updateCart && $setup.updateCart.apply($setup, arguments);\n    }),\n    \"aria-expanded\": \"false\",\n    \"aria-controls\": $setup.collapseHref\n  }, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"p\", _hoisted_4, [_createTextVNode(\" x \"), _createElementVNode(\"span\", null, _toDisplayString($setup.item.amount), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"p\", _hoisted_6, _toDisplayString($setup.item.name), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"p\", _hoisted_8, _toDisplayString($setup.item.price * $setup.item.amount), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _createElementVNode(\"div\", _hoisted_11, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.item.selectedOptions, function (selection, i) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: i\n    }, [_createElementVNode(\"p\", _hoisted_12, [_createTextVNode(\" - \"), _createElementVNode(\"span\", null, _toDisplayString(selection), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"p\", _hoisted_13, _toDisplayString($setup.item.note), 1 /* TEXT */)])])], 8 /* PROPS */, _hoisted_1), _createElementVNode(\"div\", {\n    \"class\": \"collapse\",\n    id: $setup.collapseId\n  }, [_createElementVNode(\"div\", _hoisted_15, [_createCommentVNode(\" Amount \"), _hoisted_16, _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"button\", {\n    \"class\": \"btn btn-outline-secondary\",\n    onClick: _cache[1] || (_cache[1] = function ($event) {\n      return $setup.setAmount(-1);\n    })\n  }, [].concat(_hoisted_20))]), _createElementVNode(\"div\", _hoisted_21, [_withDirectives(_createElementVNode(\"textarea\", {\n    type: \"text\",\n    \"class\": \"form-control fw-bold ms-2\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return $setup.amount = $event;\n    }),\n    style: {\n      \"height\": \"1rem\"\n    },\n    onInput: _cache[3] || (_cache[3] = function () {\n      return $setup.handleAmountInput && $setup.handleAmountInput.apply($setup, arguments);\n    })\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $setup.amount]])]), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"button\", {\n    \"class\": \"btn btn-outline-secondary\",\n    onClick: _cache[4] || (_cache[4] = function ($event) {\n      return $setup.setAmount(1);\n    })\n  }, [].concat(_hoisted_24))])])])], 8 /* PROPS */, _hoisted_14)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","style","_hoisted_19","_hoisted_23","_createElementBlock","_Fragment","href","$setup","collapseHref","role","onClick","_cache","updateCart","apply","arguments","_hoisted_2","_hoisted_3","_hoisted_4","_createTextVNode","_toDisplayString","item","amount","_hoisted_5","_hoisted_6","name","_hoisted_7","_hoisted_8","price","_hoisted_9","_hoisted_10","_hoisted_11","_renderList","selectedOptions","selection","i","key","_hoisted_12","_hoisted_13","note","_hoisted_1","id","collapseId","_hoisted_15","_createCommentVNode","_hoisted_16","_hoisted_17","_hoisted_18","$event","setAmount","_hoisted_20","_hoisted_21","type","onInput","handleAmountInput","_hoisted_22","_hoisted_24","_hoisted_14"],"sources":["/Users/shane/Desktop/isc project/frontend/web-pos 3.0/src/components/dashboard/itemInCart.vue"],"sourcesContent":["<template>\n  <div\n    class=\"container mb-2\"\n    data-bs-toggle=\"collapse\"\n    :href=\"collapseHref\"\n    role=\"button\"\n    @click=\"updateCart\"\n    aria-expanded=\"false\"\n    :aria-controls=\"collapseHref\"\n  >\n    <div class=\"row align-items-center\">\n      <div class=\"col-3\">\n        <p class=\"mb-0\">\n          x <span>{{ item.amount }}</span>\n        </p>\n      </div>\n      <div class=\"col-6\">\n        <p class=\"mb-0\">{{ item.name }}</p>\n      </div>\n      <div class=\"col-3\">\n        <p class=\"mb-0 text-end\">{{ item.price * item.amount }}</p>\n      </div>\n    </div>\n    <div class=\"row align-items-center\">\n      <div class=\"col-3\"></div>\n      <div class=\"col-9\">\n        <div v-for=\"(selection, i) in item.selectedOptions\" :key=\"i\">\n          <p class=\"fw-light my-0\">\n            - <span>{{ selection }}</span>\n          </p>\n        </div>\n        <p class=\"fw-light my-0\">{{ item.note }}</p>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"collapse\" :id=\"collapseId\">\n    <div class=\"card card-body\">\n      <!-- Amount -->\n      <p class=\"mt-2 mb-1\">Amount</p>\n      <div\n        class=\"row justify-content-center align-items-center\"\n        style=\"width: 100%\"\n      >\n        <div class=\"col-3 text-start\">\n          <button class=\"btn btn-outline-secondary\" @click=\"setAmount(-1)\">\n            <i class=\"bi bi-dash\"></i>\n          </button>\n        </div>\n        <div class=\"col-6 text-center\">\n          <textarea\n            type=\"text\"\n            class=\"form-control fw-bold ms-2\"\n            v-model=\"amount\"\n            style=\"height: 1rem\"\n            @input=\"handleAmountInput\"\n          ></textarea>\n        </div>\n        <div class=\"col-3 text-end\">\n          <button class=\"btn btn-outline-secondary\" @click=\"setAmount(1)\">\n            <i class=\"bi bi-plus\"></i>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed, ref } from \"vue\";\nimport { useStore } from \"vuex\";\nexport default {\n  props: [\"itemId\"],\n  setup(props) {\n    const store = useStore();\n    const item = computed(() => {\n      return store.getters['cart/getItemFromCartById'](props.itemId);\n    });\n    const collapseId = ref(\"collapse-\" + props.itemId);\n    const collapseHref = ref(\"#collapse-\" + props.itemId);\n    const amount = ref(item.value.amount);\n\n    const setAmount = (load) => {\n      amount.value = amount.value + load;\n      if (amount.value <= 0) amount.value = 0;\n      if (amount.value >= item.stock) amount.value = item.stock;\n      item.value.amount = amount.value;\n    };\n\n    const handleAmountInput = (event) => {\n      let inputValue = event.target.value;\n      inputValue = inputValue.replace(/\\D/g, \"\");\n      amount.value = parseInt(inputValue);\n      if (isNaN(amount.value)) amount.value = 0;\n      setAmount(0);\n    };\n\n    const updateCart = () => {\n    amount.value = item.value.amount\n      if (item.value.amount === 0) {\n        console.log('calling removeItemFromCart');\n        store.commit(\"cart/removeItemFromCart\", props.itemId);\n      }\n    };\n\n    return {\n      collapseHref,\n      collapseId,\n      amount,\n      setAmount,\n      handleAmountInput,\n      updateCart,\n      item,\n    };\n  },\n};\n</script>\n\n<style></style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}