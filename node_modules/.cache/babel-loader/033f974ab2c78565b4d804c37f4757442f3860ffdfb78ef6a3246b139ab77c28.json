{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container m-5 mx-auto\"\n};\nconst _hoisted_2 = {\n  class: \"row justify-content-center\"\n};\nconst _hoisted_3 = {\n  class: \"col-12 col-md-10 col-lg-8 p-5 border border-hide border-tertiary rounded-4\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Create New Store\", -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"mb-3\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"storeName\",\n  class: \"form-label\"\n}, \"Store Name\", -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"mb-3\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"createStoreCode\",\n  class: \"form-label\"\n}, \"Store Code\", -1 /* HOISTED */);\nconst _hoisted_9 = {\n  class: \"mb-3\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"createStorePassword\",\n  class: \"form-label\"\n}, \"Store Password\", -1 /* HOISTED */);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary my-2\"\n}, \" Create Store \", -1 /* HOISTED */);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"\"\n}, \"Not an Owner?\", -1 /* HOISTED */);\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Join an Existing Store\", -1 /* HOISTED */);\nconst _hoisted_15 = {\n  class: \"mb-3\"\n};\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"joinStoreCode\",\n  class: \"form-label\"\n}, \"Store Code\", -1 /* HOISTED */);\nconst _hoisted_17 = {\n  class: \"mb-3\"\n};\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"joinStorePassword\",\n  class: \"form-label\"\n}, \"Store Password\", -1 /* HOISTED */);\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary my-2\"\n}, \" Join Store \", -1 /* HOISTED */);\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"\"\n}, \"Creating a New Store?\", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", null, [$setup.activeForm === 'createFrom' ? (_openBlock(), _createElementBlock(\"form\", {\n    key: 0,\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $setup.createStore && $setup.createStore(...args), [\"prevent\"]))\n  }, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"storeName\",\n    placeholder: \"Name of your store\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.storeName = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.storeName]])]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"createStoreCode\",\n    placeholder: \"Unique Code for your store, used for invitation\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.createStoreCode = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.createStoreCode]])]), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    class: \"form-control\",\n    id: \"createStorePassword\",\n    placeholder: \"Password of at least 8 characters for invitaion\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.createStorePassword = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.createStorePassword]])]), _hoisted_11, _hoisted_12, _hoisted_13, _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary\",\n    onClick: _cache[3] || (_cache[3] = $event => $setup.toggleForms('JoinForm'))\n  }, \" Join an Existing Store \")], 32 /* NEED_HYDRATION */)) : _createCommentVNode(\"v-if\", true), $setup.activeForm === 'JoinForm' ? (_openBlock(), _createElementBlock(\"form\", {\n    key: 1,\n    onSubmit: _cache[8] || (_cache[8] = _withModifiers((...args) => $setup.joinStore && $setup.joinStore(...args), [\"prevent\"]))\n  }, [_hoisted_14, _createElementVNode(\"div\", _hoisted_15, [_hoisted_16, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"joinStoreCode\",\n    placeholder: \"Store Code given by the store admin\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.joinStoreCode = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.joinStoreCode]])]), _createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    class: \"form-control\",\n    id: \"joinStorePassword\",\n    placeholder: \"Store Password given by the store admin\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.joinStorePassword = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.joinStorePassword]])]), _hoisted_19, _hoisted_20, _hoisted_21, _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary\",\n    onClick: _cache[7] || (_cache[7] = $event => $setup.toggleForms('createFrom'))\n  }, \" Create a New Store \")], 32 /* NEED_HYDRATION */)) : _createCommentVNode(\"v-if\", true)])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","$setup","activeForm","key","onSubmit","_cache","_withModifiers","args","createStore","_hoisted_4","_hoisted_5","_hoisted_6","id","placeholder","required","$event","storeName","_hoisted_7","_hoisted_8","createStoreCode","_hoisted_9","_hoisted_10","createStorePassword","_hoisted_11","_hoisted_12","_hoisted_13","onClick","toggleForms","_createCommentVNode","joinStore","_hoisted_14","_hoisted_15","_hoisted_16","joinStoreCode","_hoisted_17","_hoisted_18","joinStorePassword","_hoisted_19","_hoisted_20","_hoisted_21"],"sources":["/Users/shane/Desktop/isc project/frontend/web-pos 3.0/src/views/StoreSetupView.vue"],"sourcesContent":["<template>\n  <div class=\"container m-5 mx-auto\">\n    <div class=\"row justify-content-center\">\n      <div\n        class=\"col-12 col-md-10 col-lg-8 p-5 border border-hide border-tertiary rounded-4\"\n      >\n        <div>\n          <form\n            v-if=\"activeForm === 'createFrom'\"\n            @submit.prevent=\"createStore\"\n          >\n            <h2>Create New Store</h2>\n            <div class=\"mb-3\">\n              <label for=\"storeName\" class=\"form-label\">Store Name</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"storeName\"\n                placeholder=\"Name of your store\"\n                required\n                v-model=\"storeName\"\n              />\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"createStoreCode\" class=\"form-label\">Store Code</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"createStoreCode\"\n                placeholder=\"Unique Code for your store, used for invitation\"\n                required\n                v-model=\"createStoreCode\"\n              />\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"createStorePassword\" class=\"form-label\"\n                >Store Password</label\n              >\n              <input\n                type=\"password\"\n                class=\"form-control\"\n                id=\"createStorePassword\"\n                placeholder=\"Password of at least 8 characters for invitaion\"\n                required\n                v-model=\"createStorePassword\"\n              />\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary my-2\">\n              Create Store\n            </button>\n\n            <hr />\n            <p class=\"\">Not an Owner?</p>\n            <button\n              type=\"button\"\n              class=\"btn btn-primary\"\n              @click=\"toggleForms('JoinForm')\"\n            >\n              Join an Existing Store\n            </button>\n          </form>\n\n          <form v-if=\"activeForm === 'JoinForm'\" @submit.prevent=\"joinStore\">\n            <h2>Join an Existing Store</h2>\n            <div class=\"mb-3\">\n              <label for=\"joinStoreCode\" class=\"form-label\">Store Code</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"joinStoreCode\"\n                placeholder=\"Store Code given by the store admin\"\n                required\n                v-model=\"joinStoreCode\"\n              />\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"joinStorePassword\" class=\"form-label\"\n                >Store Password</label\n              >\n              <input\n                type=\"password\"\n                class=\"form-control\"\n                id=\"joinStorePassword\"\n                placeholder=\"Store Password given by the store admin\"\n                required\n                v-model=\"joinStorePassword\"\n              />\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary my-2\">\n              Join Store\n            </button>\n            <hr />\n            <p class=\"\">Creating a New Store?</p>\n            <button\n              type=\"button\"\n              class=\"btn btn-primary\"\n              @click=\"toggleForms('createFrom')\"\n            >\n              Create a New Store\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport store from \"@/store/modules/store\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n\n    const activeForm = ref(\"createFrom\");\n\n    const clearForms = () => {\n      storeName.value = \"\";\n      createStoreCode.value = \"\";\n      createStorePassword.value = \"\";\n      joinStoreCode.value = \"\";\n      joinStorePassword.value = \"\";\n    };\n\n    const toggleForms = (formName) => {\n      clearForms();\n      activeForm.value = formName;\n    };\n\n    const storeName = ref(\"\");\n    const createStoreCode = ref(\"\");\n    const createStorePassword = ref(\"\");\n    const joinStoreCode = ref(\"\");\n    const joinStorePassword = ref(\"\");\n\n    const createStore = async () => {\n      const createStoreRequest = {\n        name: storeName.value,\n        storeCode: createStoreCode.value,\n        password: createStorePassword.value,\n      };\n      const validation = await store.dispatch(\n        \"store/createStore\",\n        createStoreRequest\n      );\n      if (validation) {\n        router.push(\"/dashboard\");\n      } else {\n        alert(\"Store code has already been used\");\n        createStoreCode.value = \"\";\n        createStorePassword.value = \"\";\n      }\n    };\n\n    const joinStore = async () => {\n      const joinStoreRequest = {\n        storeCode: joinStoreCode.value,\n        password: joinStorePassword.value,\n      };\n      const validation = await store.dispatch(\n        \"store/joinStore\",\n        joinStoreRequest\n      );\n      if (validation) {\n        router.push(\"/dashboard\");\n      } else {\n        alert(\"Inccorect Store code or password\");\n        createStoreCode.value = \"\";\n        createStorePassword.value = \"\";\n      }\n    };\n\n    return {\n      activeForm,\n      toggleForms,\n      storeName,\n      createStoreCode,\n      createStorePassword,\n      joinStoreCode,\n      joinStorePassword,\n      createStore,\n      joinStore,\n    };\n  },\n};\n</script>\n\n<style scode>\n@media (max-width: 768px) {\n  .border-hide {\n    border: none !important; /* Hide the border */\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}