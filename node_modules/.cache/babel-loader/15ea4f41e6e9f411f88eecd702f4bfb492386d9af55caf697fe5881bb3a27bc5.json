{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelCheckbox as _vModelCheckbox, createTextVNode as _createTextVNode, vShow as _vShow, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"row mt-4\"\n};\nconst _hoisted_2 = {\n  class: \"col-6\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"firstname\", -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"col-6\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"lastname\", -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"my-3\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"Username\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"mb-3\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"Email address\", -1 /* HOISTED */);\nconst _hoisted_10 = {\n  class: \"mb-3\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"Password\", -1 /* HOISTED */);\nconst _hoisted_12 = {\n  class: \"my-3 form-check\"\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-check-label\"\n}, [/*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"#terms\"\n}, \"Accept conditions & terms\")], -1 /* HOISTED */);\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"row justify-content-center m-3 mt-3 mb-2\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary col-6\"\n}, \"Sign Up\")], -1 /* HOISTED */);\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"break-line mx-3 text-secondary\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"mx-2\"\n}, \"or\")], -1 /* HOISTED */);\nconst _hoisted_16 = {\n  class: \"row justify-content-center mt-2 mx-3\"\n};\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"fs-6 text-center\"\n}, [/*#__PURE__*/_createTextVNode(\" Already have an account? \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"/login\",\n  class: \"text-decoration-none col-12\"\n}, \"Login now\")], -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"form\", {\n    onSubmit: _cache[7] || (_cache[7] = _withModifiers((...args) => $setup.handleRegister && $setup.handleRegister(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.firstname = $event),\n    placeholder: \"firstname\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.firstname]])]), _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.lastname = $event),\n    placeholder: \"lastname\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.lastname]])])]), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.show_name = $event),\n    placeholder: \"username\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.show_name]])]), _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    class: \"form-control\",\n    \"aria-describedby\": \"emailHelp\",\n    placeholder: \"name@example.com\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.email = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.email]])]), _createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.password = $event),\n    placeholder: \"password of 8 charactors or more\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.password]]), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.passwordStrengthMessage, message => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: message,\n      class: \"text-danger\"\n    }, _toDisplayString(message), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_12, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    class: \"form-check-input\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.checkbox = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $setup.checkbox]]), _hoisted_13]), _hoisted_14, _hoisted_15, _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[6] || (_cache[6] = (...args) => $setup.loginWithOAuth && $setup.loginWithOAuth(...args)),\n    class: \"btn btn-primary col-6\"\n  }, \" Continue with Google \"), _hoisted_17, _withDirectives(_createElementVNode(\"p\", {\n    class: \"fs-6 text-center text-danger\"\n  }, _toDisplayString($setup.errorMessage), 513 /* TEXT, NEED_PATCH */), [[_vShow, $setup.errorMessage]])])], 32 /* NEED_HYDRATION */);\n}","map":{"version":3,"names":["class","_createElementVNode","href","type","_createTextVNode","_createElementBlock","onSubmit","_cache","_withModifiers","args","$setup","handleRegister","_hoisted_1","_hoisted_2","_hoisted_3","$event","firstname","placeholder","required","_hoisted_4","_hoisted_5","lastname","_hoisted_6","_hoisted_7","show_name","_hoisted_8","_hoisted_9","email","_hoisted_10","_hoisted_11","password","_Fragment","_renderList","passwordStrengthMessage","message","key","_hoisted_12","checkbox","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","onClick","loginWithOAuth","_hoisted_17","_toDisplayString","errorMessage"],"sources":["/Users/shane/Desktop/isc project/frontend/web-pos 3.0/src/components/auth/SignupForm.vue"],"sourcesContent":["<template>\n  <form @submit.prevent=\"handleRegister\">\n    <div class=\"row mt-4\">\n      <div class=\"col-6\">\n        <label class=\"form-label\">firstname</label>\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"firstname\"\n          placeholder=\"firstname\"\n          required\n        />\n      </div>\n      <div class=\"col-6\">\n        <label class=\"form-label\">lastname</label>\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"lastname\"\n          placeholder=\"lastname\"\n          required\n        />\n      </div>\n    </div>\n\n    <div class=\"my-3\">\n      <label class=\"form-label\">Username</label>\n      <input\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"show_name\"\n        placeholder=\"username\"\n        required\n      />\n    </div>\n    <div class=\"mb-3\">\n      <label class=\"form-label\">Email address</label>\n      <input\n        type=\"email\"\n        class=\"form-control\"\n        aria-describedby=\"emailHelp\"\n        placeholder=\"name@example.com\"\n        v-model=\"email\"\n        required\n      />\n    </div>\n    <div class=\"mb-3\">\n      <label class=\"form-label\">Password</label>\n      <input\n        type=\"password\"\n        class=\"form-control\"\n        v-model=\"password\"\n        placeholder=\"password of 8 charactors or more\"\n        required\n      />\n      <ul>\n        <li\n          v-for=\"message in passwordStrengthMessage\"\n          :key=\"message\"\n          class=\"text-danger\"\n        >\n          {{ message }}\n        </li>\n      </ul>\n    </div>\n    <div class=\"my-3 form-check\">\n      <input type=\"checkbox\" class=\"form-check-input\" v-model=\"checkbox\" />\n      <label class=\"form-check-label\">\n        <a href=\"#terms\">Accept conditions & terms</a></label\n      >\n    </div>\n\n\n\n    <div class=\"row justify-content-center m-3 mt-3 mb-2\">\n      <button type=\"submit\" class=\"btn btn-primary col-6\">Sign Up</button>\n    </div>\n\n    <div class=\"break-line mx-3 text-secondary\"> <span class=\"mx-2\">or</span> </div>\n\n    <div class=\"row justify-content-center mt-2 mx-3\">\n      <button\n        type=\"button\"\n        @click=\"loginWithOAuth\"\n        class=\"btn btn-primary col-6\"\n      >\n        Continue with Google\n      </button>\n\n      <p class=\"fs-6 text-center\">\n        Already have an account?\n        <a href=\"/login\" class=\"text-decoration-none col-12\">Login now</a>\n      </p>\n      <p v-show=\"errorMessage\" class=\"fs-6 text-center text-danger\">\n        {{ errorMessage }}\n      </p>\n    </div>\n  </form>\n</template>\n\n<script>\nimport { ref, watch } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\n\nexport default {\n  setup() {\n    const firstname = ref(\"\");\n    const lastname = ref(\"\");\n    const show_name = ref(\"\");\n    const email = ref(\"\");\n    const password = ref(\"\");\n    const username = ref(\"\");\n    const checkbox = ref(false);\n    const errorMessage = ref(\"\");\n    const passwordStrengthMessage = ref([]);\n\n    const router = useRouter();\n    const store = useStore();\n\n    const checkPasswordStrength = () => {\n      const passwordValue = password.value;\n      passwordStrengthMessage.value = [];\n      if (passwordValue.length < 8) {\n        passwordStrengthMessage.value.push(\n          \"Password must be at least 8 characters long.\"\n        );\n      }\n      if (!/[!@#$%^&*()_+\\-=[\\]{};':\"\\\\|,.<>/? ]+/.test(passwordValue)) {\n        passwordStrengthMessage.value.push(\n          \"Password must have special character.\"\n        );\n      }\n      if (!/\\d+/.test(passwordValue)) {\n        passwordStrengthMessage.value.push(\"Password must have number.\");\n      }\n      if (!/[A-Z]+/.test(passwordValue)) {\n        passwordStrengthMessage.value.push(\n          \"Password must have capital letter.\"\n        );\n      }\n    };\n\n    watch(password, checkPasswordStrength);\n\n    const handleRegister = async () => {\n      try {\n        errorMessage.value = \"\";\n        const registerUser = {\n          firstname: firstname.value.trim(),\n          lastname: lastname.value.trim(),\n          show_name: show_name.value.trim(),\n          email: email.value.trim().toLowerCase(),\n          password: password.value,\n        };\n        await store.dispatch(\"auth/register\", registerUser);\n\n        router.push(\"/login\");\n\n        // Handle successful registration (redirect, show success message, etc.)\n      } catch (error) {\n        errorMessage.value = error.response.data;\n      }\n    };\n\n    const loginWithOAuth = () => {\n      store.commit('auth/loginWithOAuth');\n    };\n\n    return {\n      firstname,\n      lastname,\n      show_name,\n      email,\n      password,\n      checkbox,\n      username,\n      handleRegister,\n      errorMessage,\n      checkPasswordStrength,\n      passwordStrengthMessage,\n      loginWithOAuth,\n    };\n  },\n};\n</script>\n\n    <style>\n        .break-line {\n            display: flex;\n            align-items: center;\n            text-align: center;\n        }\n        .break-line::before,\n        .break-line::after {\n            content: '';\n            flex: 1;\n            border-bottom: 1px solid #ddd;\n        }\n        .break-line:not(:empty)::before {\n            margin-right: .25em;\n        }\n        .break-line:not(:empty)::after {\n            margin-left: .25em;\n        }\n    </style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}