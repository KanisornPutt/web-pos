{"ast":null,"code":"import _regeneratorRuntime from \"/Users/shane/Desktop/isc project/frontend/web-pos 3.0/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/shane/Desktop/isc project/frontend/web-pos 3.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { computed, ref } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  setup: function setup() {\n    var email = ref(\"\");\n    var password = ref(\"\");\n    var store = useStore();\n    var router = useRouter();\n    var errorMessage = ref(\"\");\n    var handleSubmit = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var loginUser;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              errorMessage.value = \"\";\n              loginUser = {\n                email: email.value.toLowerCase(),\n                password: password.value\n              };\n              _context.next = 5;\n              return store.dispatch(\"auth/login\", loginUser);\n            case 5:\n              _context.next = 7;\n              return store.dispatch('auth/getUser');\n            case 7:\n              router.push(\"/dashboard\");\n              _context.next = 14;\n              break;\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(\"Error during login:\", _context.t0);\n              errorMessage.value = \"Wrong_UserName_Or_Password\";\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 10]]);\n      }));\n      return function handleSubmit() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var loginWithOAuth = function loginWithOAuth() {\n      store.commit('auth/loginWithOAuth');\n    };\n    return {\n      email: email,\n      password: password,\n      handleSubmit: handleSubmit,\n      loginWithOAuth: loginWithOAuth,\n      errorMessage: errorMessage\n    };\n  }\n};","map":{"version":3,"names":["computed","ref","useStore","useRouter","setup","email","password","store","router","errorMessage","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","loginUser","wrap","_callee$","_context","prev","next","value","toLowerCase","dispatch","push","t0","console","error","stop","apply","arguments","loginWithOAuth","commit"],"sources":["/Users/shane/Desktop/isc project/frontend/web-pos 3.0/src/components/auth/LoginForm.vue"],"sourcesContent":["<template>\n  <form @submit.prevent=\"handleSubmit\">\n    <div class=\"mb-3\">\n      <label class=\"form-label\">Email address</label>\n      <input\n        type=\"text\"\n        class=\"form-control\"\n        aria-describedby=\"emailHelp\"\n        v-model=\"email\"\n        placeholder=\"name@example.com\"\n        required\n      />\n    </div>\n    <div class=\"mb-3\">\n      <label class=\"form-label\">Password</label>\n      <input\n        type=\"password\"\n        class=\"form-control\"\n        v-model=\"password\"\n        placeholder=\"password\"\n        required\n      />\n    </div>\n\n    <div class=\"row justify-content-center mx-3\">\n      <button type=\"submit\" class=\"btn btn-primary col-6 m-3\" >\n        Login\n      </button>\n    </div>\n\n    <div class=\"break-line mx-3 text-secondary\"> <span class=\"mx-2\">or</span> </div>\n\n    <div class=\"row justify-content-center mt-3 mx-3\">\n      <button\n        type=\"button\"\n        @click=\"loginWithOAuth\"\n        class=\"btn btn-primary col-6\"\n      >\n        Continue with Google\n      </button>\n      <p class=\"fs-6 text-center mt-3\">\n        Don't have an account yet?\n        <a href=\"/signup\" class=\"text-decoration-none\">Signup now</a>\n      </p>\n      <p v-show=\"errorMessage\" class=\"fs-6 text-center text-danger\">\n        {{ errorMessage }}\n      </p>\n    </div>\n  </form>\n</template>\n\n<script>\nimport { computed, ref } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  setup() {\n    const email = ref(\"\");\n    const password = ref(\"\");\n\n    const store = useStore();\n    const router = useRouter();\n\n    const errorMessage = ref(\"\");\n\n    const handleSubmit = async () => {\n      try {\n        errorMessage.value = \"\";\n        const loginUser = {\n          email: email.value.toLowerCase(),\n          password: password.value,\n        };\n        await store.dispatch(\"auth/login\", loginUser);\n        await store.dispatch('auth/getUser');\n        router.push(\"/dashboard\");\n      } catch (error) {\n        console.error(\"Error during login:\", error);\n        errorMessage.value = \"Wrong_UserName_Or_Password\";\n      }\n    };\n\n    const loginWithOAuth = () => {\n      store.commit('auth/loginWithOAuth');\n    };\n\n    return { email, password, handleSubmit, loginWithOAuth, errorMessage };\n  },\n};\n</script>\n\n    <style>\n        .break-line {\n            display: flex;\n            align-items: center;\n            text-align: center;\n        }\n        .break-line::before,\n        .break-line::after {\n            content: '';\n            flex: 1;\n            border-bottom: 1px solid #ddd;\n        }\n        .break-line:not(:empty)::before {\n            margin-right: .25em;\n        }\n        .break-line:not(:empty)::after {\n            margin-left: .25em;\n        }\n    </style>"],"mappings":";;;AAoDA,SAASA,QAAQ,EAAEC,GAAE,QAAS,KAAK;AACnC,SAASC,QAAO,QAAS,MAAM;AAC/B,SAASC,SAAQ,QAAS,YAAY;AACtC,eAAe;EACbC,KAAK,WAAAA,MAAA,EAAG;IACN,IAAMC,KAAI,GAAIJ,GAAG,CAAC,EAAE,CAAC;IACrB,IAAMK,QAAO,GAAIL,GAAG,CAAC,EAAE,CAAC;IAExB,IAAMM,KAAI,GAAIL,QAAQ,CAAC,CAAC;IACxB,IAAMM,MAAK,GAAIL,SAAS,CAAC,CAAC;IAE1B,IAAMM,YAAW,GAAIR,GAAG,CAAC,EAAE,CAAC;IAE5B,IAAMS,YAAW;MAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAI,SAAAC,QAAA;QAAA,IAAAC,SAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAEjBX,YAAY,CAACa,KAAI,GAAI,EAAE;cACjBN,SAAQ,GAAI;gBAChBX,KAAK,EAAEA,KAAK,CAACiB,KAAK,CAACC,WAAW,CAAC,CAAC;gBAChCjB,QAAQ,EAAEA,QAAQ,CAACgB;cACrB,CAAC;cAAAH,QAAA,CAAAE,IAAA;cAAA,OACKd,KAAK,CAACiB,QAAQ,CAAC,YAAY,EAAER,SAAS,CAAC;YAAA;cAAAG,QAAA,CAAAE,IAAA;cAAA,OACvCd,KAAK,CAACiB,QAAQ,CAAC,cAAc,CAAC;YAAA;cACpChB,MAAM,CAACiB,IAAI,CAAC,YAAY,CAAC;cAAAN,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAO,EAAA,GAAAP,QAAA;cAEzBQ,OAAO,CAACC,KAAK,CAAC,qBAAqB,EAAAT,QAAA,CAAAO,EAAO,CAAC;cAC3CjB,YAAY,CAACa,KAAI,GAAI,4BAA4B;YAAA;YAAA;cAAA,OAAAH,QAAA,CAAAU,IAAA;UAAA;QAAA,GAAAd,OAAA;MAAA,CAEpD;MAAA,gBAdKL,YAAWA,CAAA;QAAA,OAAAC,IAAA,CAAAmB,KAAA,OAAAC,SAAA;MAAA;IAAA,GAchB;IAED,IAAMC,cAAa,GAAI,SAAjBA,cAAaA,CAAA,EAAU;MAC3BzB,KAAK,CAAC0B,MAAM,CAAC,qBAAqB,CAAC;IACrC,CAAC;IAED,OAAO;MAAE5B,KAAK,EAALA,KAAK;MAAEC,QAAQ,EAARA,QAAQ;MAAEI,YAAY,EAAZA,YAAY;MAAEsB,cAAc,EAAdA,cAAc;MAAEvB,YAAW,EAAXA;IAAa,CAAC;EACxE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}