{"ast":null,"code":"import { ref, watch } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  setup() {\n    const firstname = ref(\"\");\n    const lastname = ref(\"\");\n    const show_name = ref(\"\");\n    const email = ref(\"\");\n    const password = ref(\"\");\n    const username = ref(\"\");\n    const checkbox = ref(false);\n    const errorMessage = ref(\"\");\n    const passwordStrengthMessage = ref([]);\n    const router = useRouter();\n    const store = useStore();\n    const checkPasswordStrength = () => {\n      const passwordValue = password.value;\n      passwordStrengthMessage.value = [];\n      if (passwordValue.length < 8) {\n        passwordStrengthMessage.value.push(\"Password must be at least 8 characters long.\");\n      }\n      if (!/[!@#$%^&*()_+\\-=[\\]{};':\"\\\\|,.<>/? ]+/.test(passwordValue)) {\n        passwordStrengthMessage.value.push(\"Password must have special character.\");\n      }\n      if (!/\\d+/.test(passwordValue)) {\n        passwordStrengthMessage.value.push(\"Password must have number.\");\n      }\n      if (!/[A-Z]+/.test(passwordValue)) {\n        passwordStrengthMessage.value.push(\"Password must have capital letter.\");\n      }\n    };\n    watch(password, checkPasswordStrength);\n    const handleRegister = async () => {\n      try {\n        errorMessage.value = \"\";\n        const registerUser = {\n          firstname: firstname.value.trim(),\n          lastname: lastname.value.trim(),\n          show_name: show_name.value.trim(),\n          email: email.value.trim().toLowerCase(),\n          password: password.value\n        };\n        await store.dispatch(\"auth/register\", registerUser);\n        router.push(\"/login\");\n\n        // Handle successful registration (redirect, show success message, etc.)\n      } catch (error) {\n        errorMessage.value = error.response.data;\n      }\n    };\n    const loginWithOAuth = () => {\n      store.commit('auth/loginWithOAuth');\n    };\n    return {\n      firstname,\n      lastname,\n      show_name,\n      email,\n      password,\n      checkbox,\n      username,\n      handleRegister,\n      errorMessage,\n      checkPasswordStrength,\n      passwordStrengthMessage,\n      loginWithOAuth\n    };\n  }\n};","map":{"version":3,"names":["ref","watch","useStore","useRouter","setup","firstname","lastname","show_name","email","password","username","checkbox","errorMessage","passwordStrengthMessage","router","store","checkPasswordStrength","passwordValue","value","length","push","test","handleRegister","registerUser","trim","toLowerCase","dispatch","error","response","data","loginWithOAuth","commit"],"sources":["/Users/shane/Desktop/isc project/frontend/web-pos 3.0/src/components/auth/SignupForm.vue"],"sourcesContent":["<template>\n  <form @submit.prevent=\"handleRegister\">\n    <div class=\"row mt-4\">\n      <div class=\"col-6\">\n        <label class=\"form-label\">firstname</label>\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"firstname\"\n          placeholder=\"firstname\"\n          required\n        />\n      </div>\n      <div class=\"col-6\">\n        <label class=\"form-label\">lastname</label>\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"lastname\"\n          placeholder=\"lastname\"\n          required\n        />\n      </div>\n    </div>\n\n    <div class=\"my-3\">\n      <label class=\"form-label\">Username</label>\n      <input\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"show_name\"\n        placeholder=\"username\"\n        required\n      />\n    </div>\n    <div class=\"mb-3\">\n      <label class=\"form-label\">Email address</label>\n      <input\n        type=\"email\"\n        class=\"form-control\"\n        aria-describedby=\"emailHelp\"\n        placeholder=\"name@example.com\"\n        v-model=\"email\"\n        required\n      />\n    </div>\n    <div class=\"mb-3\">\n      <label class=\"form-label\">Password</label>\n      <input\n        type=\"password\"\n        class=\"form-control\"\n        v-model=\"password\"\n        placeholder=\"password of 8 charactors or more\"\n        required\n      />\n      <ul>\n        <li\n          v-for=\"message in passwordStrengthMessage\"\n          :key=\"message\"\n          class=\"text-danger\"\n        >\n          {{ message }}\n        </li>\n      </ul>\n    </div>\n    <div class=\"my-3 form-check\">\n      <input type=\"checkbox\" class=\"form-check-input\" v-model=\"checkbox\" />\n      <label class=\"form-check-label\">\n        <a href=\"#terms\">Accept conditions & terms</a></label\n      >\n    </div>\n\n\n\n    <div class=\"row justify-content-center m-3 mt-3 mb-2\">\n      <button type=\"submit\" class=\"btn btn-primary col-6\">Sign Up</button>\n    </div>\n\n    <div class=\"break-line mx-3 text-secondary\"> <span class=\"mx-2\">or</span> </div>\n\n    <div class=\"row justify-content-center mt-2 mx-3\">\n      <button\n        type=\"button\"\n        @click=\"loginWithOAuth\"\n        class=\"btn btn-primary col-6\"\n      >\n        Continue with Google\n      </button>\n\n      <p class=\"fs-6 text-center\">\n        Already have an account?\n        <a href=\"/login\" class=\"text-decoration-none col-12\">Login now</a>\n      </p>\n      <p v-show=\"errorMessage\" class=\"fs-6 text-center text-danger\">\n        {{ errorMessage }}\n      </p>\n    </div>\n  </form>\n</template>\n\n<script>\nimport { ref, watch } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\n\nexport default {\n  setup() {\n    const firstname = ref(\"\");\n    const lastname = ref(\"\");\n    const show_name = ref(\"\");\n    const email = ref(\"\");\n    const password = ref(\"\");\n    const username = ref(\"\");\n    const checkbox = ref(false);\n    const errorMessage = ref(\"\");\n    const passwordStrengthMessage = ref([]);\n\n    const router = useRouter();\n    const store = useStore();\n\n    const checkPasswordStrength = () => {\n      const passwordValue = password.value;\n      passwordStrengthMessage.value = [];\n      if (passwordValue.length < 8) {\n        passwordStrengthMessage.value.push(\n          \"Password must be at least 8 characters long.\"\n        );\n      }\n      if (!/[!@#$%^&*()_+\\-=[\\]{};':\"\\\\|,.<>/? ]+/.test(passwordValue)) {\n        passwordStrengthMessage.value.push(\n          \"Password must have special character.\"\n        );\n      }\n      if (!/\\d+/.test(passwordValue)) {\n        passwordStrengthMessage.value.push(\"Password must have number.\");\n      }\n      if (!/[A-Z]+/.test(passwordValue)) {\n        passwordStrengthMessage.value.push(\n          \"Password must have capital letter.\"\n        );\n      }\n    };\n\n    watch(password, checkPasswordStrength);\n\n    const handleRegister = async () => {\n      try {\n        errorMessage.value = \"\";\n        const registerUser = {\n          firstname: firstname.value.trim(),\n          lastname: lastname.value.trim(),\n          show_name: show_name.value.trim(),\n          email: email.value.trim().toLowerCase(),\n          password: password.value,\n        };\n        await store.dispatch(\"auth/register\", registerUser);\n\n        router.push(\"/login\");\n\n        // Handle successful registration (redirect, show success message, etc.)\n      } catch (error) {\n        errorMessage.value = error.response.data;\n      }\n    };\n\n    const loginWithOAuth = () => {\n      store.commit('auth/loginWithOAuth');\n    };\n\n    return {\n      firstname,\n      lastname,\n      show_name,\n      email,\n      password,\n      checkbox,\n      username,\n      handleRegister,\n      errorMessage,\n      checkPasswordStrength,\n      passwordStrengthMessage,\n      loginWithOAuth,\n    };\n  },\n};\n</script>\n\n    <style>\n        .break-line {\n            display: flex;\n            align-items: center;\n            text-align: center;\n        }\n        .break-line::before,\n        .break-line::after {\n            content: '';\n            flex: 1;\n            border-bottom: 1px solid #ddd;\n        }\n        .break-line:not(:empty)::before {\n            margin-right: .25em;\n        }\n        .break-line:not(:empty)::after {\n            margin-left: .25em;\n        }\n    </style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}