{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport HomeView from '../views/HomeView.vue';\nimport store from '../store/index.js';\nimport { computed } from 'vue';\nimport { useStore } from 'vuex';\nconst routes = [{\n  path: '/',\n  name: 'home',\n  component: HomeView\n}, {\n  path: '/:pathMatch(.*)*',\n  redirect: {\n    name: 'home'\n  } // Redirect to home page\n}, {\n  path: '/about',\n  name: 'about',\n  component: () => import('../views/AboutView.vue')\n}, {\n  path: '/login',\n  name: 'login',\n  component: () => import('../views/auth/LoginView.vue'),\n  meta: {\n    requiresGuest: true\n  }\n}, {\n  path: '/signup',\n  name: 'signup',\n  component: () => import('../views/auth/SignupView.vue'),\n  meta: {\n    requiresGuest: true\n  }\n}, {\n  path: '/dashboard',\n  name: 'dashboard',\n  component: () => import('../views/DashboardView.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/redirect',\n  name: 'redirect',\n  component: () => import('../views/auth/RedirectView.vue'),\n  meta: {\n    requiresAuth: false\n  }\n}, {\n  path: '/profile',\n  name: 'profile',\n  component: () => import('../views/ProfileView.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/storesetup',\n  name: 'storeSetup',\n  component: () => import('../views/StoreSetupView.vue'),\n  meta: {\n    requiresAuth: true,\n    requireNoStore: true\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\n\n// Navigation guards\nrouter.beforeEach((to, from, next) => {\n  if (store.getters['auth/isAuthenticated']) {\n    store.dispatch('auth/getUser');\n  }\n\n  // storeSetup\n  if (to.meta.requireNoStore && to.meta.requiresAuth) {\n    if (!store.getters['auth/isAuthenticated']) {\n      next({\n        name: 'login'\n      });\n    } else if (store.getters['store/isLinkedToStore']) {\n      next({\n        name: 'dashboard'\n      });\n    } else {\n      next();\n    }\n  }\n  if (to.meta.requiresAuth) {\n    if (!store.getters['auth/isAuthenticated']) {\n      next({\n        name: 'login'\n      });\n    } else {\n      next();\n    }\n  } else if (to.meta.requiresGuest) {\n    if (store.getters['auth/isAuthenticated']) {\n      next({\n        name: 'home'\n      });\n    } else {\n      next();\n    }\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","HomeView","store","computed","useStore","routes","path","name","component","redirect","meta","requiresGuest","requiresAuth","requireNoStore","router","history","process","env","BASE_URL","beforeEach","to","from","next","getters","dispatch"],"sources":["/Users/shane/Desktop/isc project/frontend/web-pos 3.0/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\nimport HomeView from '../views/HomeView.vue'\nimport store from '../store/index.js'\nimport { computed } from 'vue'\nimport { useStore } from 'vuex'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: HomeView\n  },\n  {\n    path: '/:pathMatch(.*)*',\n    redirect: { name: 'home' } // Redirect to home page\n  },\n  {\n    path: '/about',\n    name: 'about',\n    component: () => import('../views/AboutView.vue')\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: () => import('../views/auth/LoginView.vue'),\n    meta: { requiresGuest: true }\n  },\n  {\n    path: '/signup',\n    name: 'signup',\n    component: () => import('../views/auth/SignupView.vue'),\n    meta: { requiresGuest: true }\n  },\n  {\n    path: '/dashboard',\n    name: 'dashboard',\n    component: () => import('../views/DashboardView.vue'),\n    meta: { requiresAuth: true } \n  },\n  {\n    path: '/redirect',\n    name: 'redirect',\n    component: () => import('../views/auth/RedirectView.vue'),\n    meta: { requiresAuth: false } \n  },\n\n  {\n    path: '/profile',\n    name: 'profile',\n    component: () => import('../views/ProfileView.vue'),\n    meta: { requiresAuth: true } \n  },\n\n  {\n    path: '/storesetup',\n    name: 'storeSetup',\n    component: () => import('../views/StoreSetupView.vue'),\n    meta: { requiresAuth: true,\n            requireNoStore: true\n     } \n  },\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\n// Navigation guards\nrouter.beforeEach((to, from, next) => {\n\n  if (store.getters['auth/isAuthenticated']) {\n    store.dispatch('auth/getUser');\n  }\n\n  // storeSetup\n  if (to.meta.requireNoStore && to.meta.requiresAuth) {\n    if (!store.getters['auth/isAuthenticated']) {\n      next({ name: 'login' });\n    }\n    else if (store.getters['store/isLinkedToStore']) {\n      next({name: 'dashboard'});\n    } else {\n      next();\n    }\n  }\n\n  if (to.meta.requiresAuth) {\n    if (!store.getters['auth/isAuthenticated']) {\n      next({ name: 'login' });\n    } else {\n      next();\n    }\n  } else if (to.meta.requiresGuest) {\n    if (store.getters['auth/isAuthenticated']) {\n      next({ name: 'home' });\n    } else {\n      next();\n    }\n  } else {\n    next();\n  }\n})\n\nexport default router"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}